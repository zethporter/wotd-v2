import{c as Be,r as x,j as v,b as Dt,g as Yn,t as me,d as hn,e as Qn,f as Jn,h as Zn}from"./main-Bw80k_GK.js";import{g as er,i as rn,b as gt,d as Ce,e as Pe,E as ft,c as pe,f as Ze,h as mn,m as Tt,j as vn,u as et,k as pt,l as Ct,n as Cn,o as tr,p as nr,B as Te}from"./button-BaMD3eMJ.js";import{A as zt,s as ye,a as tt,b as Ve,c as je,u as Ge,d as rr,e as ht,f as Ne,g as Fe,t as mt,h as Rn,i as or,m as sr,j as wn,k as ir,l as ar,n as Sn,o as xn,p as lr,q as He,r as Ht,v as yn,w as ur,x as cr,y as ct,z as vt,B as dr,C as gr,D as _n,E as Mn,F as fr,G as pr,H as hr,I as In,J as mr,K as vr,L as Cr,M as Rr,P as wr,N as We,O as Sr,Q as xr,R as yr,S as Ke,T as _r,U as Mr,V as ve,W as Ir,X as En,Y as Er,Z as Pn,_ as Pr,$ as Fr,a0 as br,a1 as Or,a2 as kr,a3 as Dr,a4 as Tr,a5 as $r,a6 as Ar,a7 as Fn,a8 as Vr,a9 as jr,aa as Lr,ab as $t,ac as Nr,ad as zr,ae as Hr,af as Gr,ag as Br,ah as Ur,ai as qr,aj as on,ak as sn,al as Kr}from"./useOpenInteractionType-Bm9BdkUW.js";import{f as an,u as Wr,a as Xr,g as Yr,b as Qr,c as Jr,d as Zr,s as eo,U as to}from"./user-management-UA0ij2zh.js";import{u as no,i as ro,j as oo,k as so,l as io,m as ao,n as lo,o as uo,p as co,q as go,D as Gt,r as bn,f as Bt,s as Ut,g as qt,t as Kt,v as Je,I as fo,a as po,b as ho,c as mo,w as vo}from"./input-group-BFF2D-co.js";import"./auth-client-MkA13Rsd.js";const Co=[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]],Ro=Be("outline","chevron-left","ChevronLeft",Co);const wo=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],So=Be("outline","chevron-right","ChevronRight",wo);const xo=[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],yo=Be("outline","dots-vertical","DotsVertical",xo);const _o=[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],Mo=Be("outline","dots","Dots",_o);const Io=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]],Eo=Be("outline","user-plus","UserPlus",Io);const Po=[["path",{d:"M5 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4c.96 0 1.84 .338 2.53 .901",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16v6",key:"svg-4"}]],Fo=Be("outline","users-plus","UsersPlus",Po);function rt(e,r,t){return Math.floor(e/r)!==t}function Xe(e,r){return r<0||r>=e.current.length}function xt(e,r){return we(e,{disabledIndices:r})}function ln(e,r){return we(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:r})}function we(e,{startingIndex:r=-1,decrement:t=!1,disabledIndices:n,amount:o=1}={}){let s=r;do s+=t?-o:o;while(s>=0&&s<=e.current.length-1&&Ye(e,s,n));return s}function bo(e,{event:r,orientation:t,loopFocus:n,rtl:o,cols:s,disabledIndices:a,minIndex:i,maxIndex:d,prevIndex:l,stopEvent:h=!1}){let p=l;const f=[],u={};let S=!1;{let C=null,R=-1;e.current.forEach((_,F)=>{if(_==null)return;const w=_.closest('[role="row"]');w&&(S=!0),(w!==C||R===-1)&&(C=w,R+=1,f[R]=[]),f[R].push(F),u[F]=R})}const m=S&&f.length>0&&f.some(C=>C.length!==s);function M(C){if(!m||l===-1)return;const R=u[l];if(R==null)return;const _=f[R].indexOf(l);let F=C==="up"?R-1:R+1;n&&(F<0?F=f.length-1:F>=f.length&&(F=0));const w=new Set;for(;F>=0&&F<f.length&&!w.has(F);){w.add(F);const N=f[F];if(N.length===0){F=C==="up"?F-1:F+1;continue}const O=Math.min(_,N.length-1);for(let c=O;c>=0;c-=1){const g=N[c];if(!Ye(e,g,a))return g}F=C==="up"?F-1:F+1,n&&(F<0?F=f.length-1:F>=f.length&&(F=0))}}if(r.key===zt){const C=M("up");if(C!==void 0)h&&ye(r),p=C;else{if(h&&ye(r),l===-1)p=d;else if(p=we(e,{startingIndex:p,amount:s,decrement:!0,disabledIndices:a}),n&&(l-s<i||p<0)){const R=l%s,_=d%s,F=d-(_-R);_===R?p=d:p=_>R?F:F-s}Xe(e,p)&&(p=l)}}if(r.key===tt){const C=M("down");C!==void 0?(h&&ye(r),p=C):(h&&ye(r),l===-1?p=i:(p=we(e,{startingIndex:l,amount:s,disabledIndices:a}),n&&l+s>d&&(p=we(e,{startingIndex:l%s-s,amount:s,disabledIndices:a}))),Xe(e,p)&&(p=l))}if(t==="both"){const C=an(l/s);r.key===(o?Ve:je)&&(h&&ye(r),l%s!==s-1?(p=we(e,{startingIndex:l,disabledIndices:a}),n&&rt(p,s,C)&&(p=we(e,{startingIndex:l-l%s-1,disabledIndices:a}))):n&&(p=we(e,{startingIndex:l-l%s-1,disabledIndices:a})),rt(p,s,C)&&(p=l)),r.key===(o?je:Ve)&&(h&&ye(r),l%s!==0?(p=we(e,{startingIndex:l,decrement:!0,disabledIndices:a}),n&&rt(p,s,C)&&(p=we(e,{startingIndex:l+(s-l%s),decrement:!0,disabledIndices:a}))):n&&(p=we(e,{startingIndex:l+(s-l%s),decrement:!0,disabledIndices:a})),rt(p,s,C)&&(p=l));const R=an(d/s)===C;Xe(e,p)&&(n&&R?p=r.key===(o?je:Ve)?d:we(e,{startingIndex:l-l%s-1,disabledIndices:a}):p=l)}return p}function Oo(e,r,t){const n=[];let o=0;return e.forEach(({width:s,height:a},i)=>{let d=!1;for(t&&(o=0);!d;){const l=[];for(let h=0;h<s;h+=1)for(let p=0;p<a;p+=1)l.push(o+h+p*r);o%r+s<=r&&l.every(h=>n[h]==null)?(l.forEach(h=>{n[h]=i}),d=!0):o+=1}}),[...n]}function ko(e,r,t,n,o){if(e===-1)return-1;const s=t.indexOf(e),a=r[e];switch(o){case"tl":return s;case"tr":return a?s+a.width-1:s;case"bl":return a?s+(a.height-1)*n:s;case"br":return t.lastIndexOf(e);default:return-1}}function Do(e,r){return r.flatMap((t,n)=>e.includes(t)?[n]:[])}function Ye(e,r,t){if(typeof t=="function")return t(r);if(t)return t.includes(r);const n=e.current[r];return n?n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true":!1}const yt=ir&&ar;function To(e,r={}){const t="rootStore"in e?e.rootStore:e,{events:n,dataRef:o}=t.context,{enabled:s=!0,visibleOnly:a=!0}=r,i=x.useRef(!1),d=Ge(),l=x.useRef(!0);x.useEffect(()=>{const p=t.select("domReferenceElement");if(!s)return;const f=er(p);function u(){!t.select("open")&&gt(p)&&p===ht(wn(p))&&(i.current=!0)}function S(){l.current=!0}function m(){l.current=!1}return f.addEventListener("blur",u),yt&&(f.addEventListener("keydown",S,!0),f.addEventListener("pointerdown",m,!0)),()=>{f.removeEventListener("blur",u),yt&&(f.removeEventListener("keydown",S,!0),f.removeEventListener("pointerdown",m,!0))}},[t,s]),x.useEffect(()=>{if(!s)return;function p(f){(f.reason===Sn||f.reason===xn)&&(i.current=!0)}return n.on("openchange",p),()=>{n.off("openchange",p)}},[n,s]);const h=x.useMemo(()=>({onMouseLeave(){i.current=!1},onFocus(p){if(i.current)return;const f=Rn(p.nativeEvent);if(a&&rn(f)){if(yt&&!p.relatedTarget){if(!l.current&&!or(f))return}else if(!sr(f))return}t.setOpen(!0,Fe(mt,p.nativeEvent,p.currentTarget))},onBlur(p){i.current=!1;const f=p.relatedTarget,u=p.nativeEvent,S=rn(f)&&f.hasAttribute(rr("focus-guard"))&&f.getAttribute("data-type")==="outside";d.start(0,()=>{const m=t.select("domReferenceElement"),M=ht(m?m.ownerDocument:document);!f&&M===m||Ne(o.current.floatingContext?.refs.floating.current,M)||Ne(m,M)||S||t.context.triggerElements.hasElement(p.relatedTarget)||t.setOpen(!1,Fe(mt,u))})}}),[o,t,a,d]);return x.useMemo(()=>s?{reference:h,trigger:h}:{},[s,h])}const $o="Escape";function Rt(e,r,t){switch(e){case"vertical":return r;case"horizontal":return t;default:return r||t}}function ot(e,r){return Rt(r,e===zt||e===tt,e===Ve||e===je)}function _t(e,r,t){return Rt(r,e===tt,t?e===Ve:e===je)||e==="Enter"||e===" "||e===""}function Ao(e,r,t){return Rt(r,t?e===Ve:e===je,e===tt)}function Vo(e,r,t,n){const o=t?e===je:e===Ve,s=e===zt;return r==="both"||r==="horizontal"&&n&&n>1?e===$o:Rt(r,o,s)}function jo(e,r){const t="rootStore"in e?e.rootStore:e,n=t.useState("open"),o=t.useState("floatingElement"),s=t.useState("domReferenceElement"),a=t.context.dataRef,{listRef:i,activeIndex:d,onNavigate:l=()=>{},enabled:h=!0,selectedIndex:p=null,allowEscape:f=!1,loopFocus:u=!1,nested:S=!1,rtl:m=!1,virtual:M=!1,focusItemOnOpen:C="auto",focusItemOnHover:R=!0,openOnArrowKeyDown:_=!0,disabledIndices:F=void 0,orientation:w="vertical",parentOrientation:N,cols:O=1,scrollItemIntoView:c=!0,itemSizes:g,dense:y=!1,id:E,resetOnPointerLeave:P=!0,externalTree:T}=r,J=lr(o),ue=He(J),Q=Ht(),A=yn(T);Ce(()=>{a.current.orientation=w},[a,w]);const ne=ur(s),$=x.useRef(C),k=x.useRef(p??-1),L=x.useRef(null),z=x.useRef(!0),I=Pe(j=>{l(k.current===-1?null:k.current,j)}),ae=x.useRef(I),ie=x.useRef(!!o),de=x.useRef(n),le=x.useRef(!1),H=x.useRef(!1),U=He(F),q=He(n),b=He(c),re=He(p),ce=He(P),te=Pe(()=>{function j(se){M?A?.events.emit("virtualfocus",se):cr(se,{sync:le.current,preventScroll:!0})}const K=i.current[k.current],D=H.current;K&&j(K),(le.current?se=>se():requestAnimationFrame)(()=>{const se=i.current[k.current]||K;if(!se)return;K||j(se);const ge=b.current;ge&&W&&(D||!z.current)&&se.scrollIntoView?.(typeof ge=="boolean"?{block:"nearest",inline:"nearest"}:ge)})});Ce(()=>{h&&(n&&o?(k.current=p??-1,$.current&&p!=null&&(H.current=!0,I())):ie.current&&(k.current=-1,ae.current()))},[h,n,o,p,I]),Ce(()=>{if(h){if(!n){le.current=!1;return}if(o)if(d==null){if(le.current=!1,re.current!=null)return;if(ie.current&&(k.current=-1,te()),(!de.current||!ie.current)&&$.current&&(L.current!=null||$.current===!0&&L.current==null)){let j=0;const K=()=>{i.current[0]==null?(j<2&&(j?requestAnimationFrame:queueMicrotask)(K),j+=1):(k.current=L.current==null||_t(L.current,w,m)||S?xt(i):ln(i),L.current=null,I())};K()}}else Xe(i,d)||(k.current=d,te(),H.current=!1)}},[h,n,o,d,re,S,i,w,m,I,te,U]),Ce(()=>{if(!h||o||!A||M||!ie.current)return;const j=A.nodesRef.current,K=j.find(se=>se.id===Q)?.context?.elements.floating,D=ht(wn(o)),Y=j.some(se=>se.context&&Ne(se.context.elements.floating,D));K&&!Y&&z.current&&K.focus({preventScroll:!0})},[h,o,A,Q,M]),Ce(()=>{ae.current=I,de.current=n,ie.current=!!o}),Ce(()=>{n||(L.current=null,$.current=C)},[n,C]);const Z=d!=null,W=x.useMemo(()=>{function j(D){if(!q.current)return;const Y=i.current.indexOf(D.currentTarget);Y!==-1&&k.current!==Y&&(k.current=Y,I(D))}return{onFocus(D){le.current=!0,j(D)},onClick:({currentTarget:D})=>D.focus({preventScroll:!0}),onMouseMove(D){le.current=!0,H.current=!1,R&&j(D)},onPointerLeave(D){if(!q.current||!z.current||D.pointerType==="touch")return;le.current=!0;const Y=D.relatedTarget;!R||i.current.includes(Y)||ce.current&&(k.current=-1,I(D),M||ue.current?.focus({preventScroll:!0}))}}},[q,ue,R,i,I,ce,M]),oe=x.useCallback(()=>N??A?.nodesRef.current.find(j=>j.id===Q)?.context?.dataRef?.current.orientation,[Q,A,N]),V=Pe(j=>{if(z.current=!1,le.current=!0,j.which===229||!q.current&&j.currentTarget===ue.current)return;if(S&&Vo(j.key,w,m,O)){ot(j.key,oe())||ye(j),t.setOpen(!1,Fe(ct,j.nativeEvent)),gt(s)&&(M?A?.events.emit("virtualfocus",s):s.focus());return}const K=k.current,D=xt(i,F),Y=ln(i,F);if(ne||(j.key==="Home"&&(ye(j),k.current=D,I(j)),j.key==="End"&&(ye(j),k.current=Y,I(j))),O>1){const se=g||Array.from({length:i.current.length},()=>({width:1,height:1})),ge=Oo(se,O,y),Oe=ge.findIndex(he=>he!=null&&!Ye(i,he,F)),$e=ge.reduce((he,_e,ee)=>_e!=null&&!Ye(i,_e,F)?ee:he,-1),Ee=ge[bo({current:ge.map(he=>he!=null?i.current[he]:null)},{event:j,orientation:w,loopFocus:u,rtl:m,cols:O,disabledIndices:Do([...(typeof F!="function"?F:null)||i.current.map((he,_e)=>Ye(i,_e,F)?_e:void 0),void 0],ge),minIndex:Oe,maxIndex:$e,prevIndex:ko(k.current>Y?D:k.current,se,ge,O,j.key===tt?"bl":j.key===(m?Ve:je)?"tr":"tl"),stopEvent:!0})];if(Ee!=null&&(k.current=Ee,I(j)),w==="both")return}if(ot(j.key,w)){if(ye(j),n&&!M&&ht(j.currentTarget.ownerDocument)===j.currentTarget){k.current=_t(j.key,w,m)?D:Y,I(j);return}_t(j.key,w,m)?u?K>=Y?f&&K!==i.current.length?k.current=-1:(le.current=!1,k.current=D):k.current=we(i,{startingIndex:K,disabledIndices:F}):k.current=Math.min(Y,we(i,{startingIndex:K,disabledIndices:F})):u?K<=D?f&&K!==-1?k.current=i.current.length:(le.current=!1,k.current=Y):k.current=we(i,{startingIndex:K,decrement:!0,disabledIndices:F}):k.current=Math.max(D,we(i,{startingIndex:K,decrement:!0,disabledIndices:F})),Xe(i,k.current)&&(k.current=-1),I(j)}}),X=x.useMemo(()=>M&&n&&Z&&{"aria-activedescendant":`${E}-${d}`},[M,n,Z,E,d]),Se=x.useMemo(()=>({"aria-orientation":w==="both"?void 0:w,...ne?{}:X,onKeyDown(j){if(j.key==="Tab"&&j.shiftKey&&n&&!M){const K=Rn(j.nativeEvent);if(K&&!Ne(ue.current,K))return;ye(j),t.setOpen(!1,Fe(vt,j.nativeEvent)),gt(s)&&s.focus();return}V(j)},onPointerMove(){z.current=!0}}),[X,V,ue,w,ne,t,n,M,s]),Ie=x.useMemo(()=>{function j(D){C==="auto"&&dr(D.nativeEvent)&&($.current=!M)}function K(D){$.current=C,C==="auto"&&gr(D.nativeEvent)&&($.current=!0)}return{onKeyDown(D){const Y=t.select("open");z.current=!1;const se=D.key.startsWith("Arrow"),ge=Ao(D.key,oe(),m),Oe=ot(D.key,w),$e=(S?ge:Oe)||D.key==="Enter"||D.key.trim()==="";if(M&&Y)return V(D);if(!(!Y&&!_&&se)){if($e){const Ee=ot(D.key,oe());L.current=S&&Ee?null:D.key}if(S){ge&&(ye(D),Y?(k.current=xt(i,U.current),I(D)):t.setOpen(!0,Fe(ct,D.nativeEvent,D.currentTarget)));return}Oe&&(re.current!=null&&(k.current=re.current),ye(D),!Y&&_?t.setOpen(!0,Fe(ct,D.nativeEvent,D.currentTarget)):V(D),Y&&I(D))}},onFocus(D){t.select("open")&&!M&&(k.current=-1,I(D))},onPointerDown:K,onPointerEnter:K,onMouseDown:j,onClick:j}},[V,U,C,i,S,I,t,_,w,oe,m,re,M]),xe=x.useMemo(()=>({...X,...Ie}),[X,Ie]);return x.useMemo(()=>h?{reference:xe,floating:Se,item:W,trigger:Ie}:{},[h,xe,Se,Ie,W])}function Lo(e,r){const t="rootStore"in e?e.rootStore:e,n=t.useState("open"),o=t.context.dataRef,{listRef:s,activeIndex:a,onMatch:i,onTypingChange:d,enabled:l=!0,findMatch:h=null,resetMs:p=750,ignoreKeys:f=ft,selectedIndex:u=null}=r,S=Ge(),m=x.useRef(""),M=x.useRef(u??a??-1),C=x.useRef(null);Ce(()=>{n&&(S.clear(),C.current=null,m.current="")},[n,S]),Ce(()=>{n&&m.current===""&&(M.current=u??a??-1)},[n,u,a]);const R=Pe(N=>{N?o.current.typing||(o.current.typing=N,d?.(N)):o.current.typing&&(o.current.typing=N,d?.(N))}),_=Pe(N=>{function O(P,T,J){const ue=h?h(T,J):T.find(Q=>Q?.toLocaleLowerCase().indexOf(J.toLocaleLowerCase())===0);return ue?P.indexOf(ue):-1}const c=s.current;if(m.current.length>0&&m.current[0]!==" "&&(O(c,c,m.current)===-1?R(!1):N.key===" "&&ye(N)),c==null||f.includes(N.key)||N.key.length!==1||N.ctrlKey||N.metaKey||N.altKey)return;n&&N.key!==" "&&(ye(N),R(!0)),c.every(P=>P?P[0]?.toLocaleLowerCase()!==P[1]?.toLocaleLowerCase():!0)&&m.current===N.key&&(m.current="",M.current=C.current),m.current+=N.key,S.start(p,()=>{m.current="",M.current=C.current,R(!1)});const y=M.current,E=O(c,[...c.slice((y||0)+1),...c.slice(0,(y||0)+1)],m.current);E!==-1?(i?.(E),C.current=E):N.key!==" "&&(m.current="",R(!1))}),F=x.useMemo(()=>({onKeyDown:_}),[_]),w=x.useMemo(()=>({onKeyDown:_,onKeyUp(N){N.key===" "&&R(!1)}}),[_,R]);return x.useMemo(()=>l?{reference:F,floating:w}:{},[l,F,w])}function Ae(e,r){return typeof e=="function"?e(r):e}function be(e,r){return t=>{r.setState(n=>({...n,[e]:Ae(t,n[e])}))}}function wt(e){return e instanceof Function}function No(e){return Array.isArray(e)&&e.every(r=>typeof r=="number")}function zo(e,r){const t=[],n=o=>{o.forEach(s=>{t.push(s);const a=r(s);a!=null&&a.length&&n(a)})};return n(e),t}function G(e,r,t){let n=[],o;return s=>{let a;t.key&&t.debug&&(a=Date.now());const i=e(s);if(!(i.length!==n.length||i.some((h,p)=>n[p]!==h)))return o;n=i;let l;if(t.key&&t.debug&&(l=Date.now()),o=r(...i),t==null||t.onChange==null||t.onChange(o),t.key&&t.debug&&t!=null&&t.debug()){const h=Math.round((Date.now()-a)*100)/100,p=Math.round((Date.now()-l)*100)/100,f=p/16,u=(S,m)=>{for(S=String(S);S.length<m;)S=" "+S;return S};console.info(`%câ± ${u(p,5)} /${u(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,t?.key)}return o}}function B(e,r,t,n){return{debug:()=>{var o;return(o=e?.debugAll)!=null?o:e[r]},key:!1,onChange:n}}function Ho(e,r,t,n){const o=()=>{var a;return(a=s.getValue())!=null?a:e.options.renderFallbackValue},s={id:`${r.id}_${t.id}`,row:r,column:t,getValue:()=>r.getValue(n),renderValue:o,getContext:G(()=>[e,t,r,s],(a,i,d,l)=>({table:a,column:i,row:d,cell:l,getValue:l.getValue,renderValue:l.renderValue}),B(e.options,"debugCells"))};return e._features.forEach(a=>{a.createCell==null||a.createCell(s,t,r,e)},{}),s}function Go(e,r,t,n){var o,s;const i={...e._getDefaultColumnDef(),...r},d=i.accessorKey;let l=(o=(s=i.id)!=null?s:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?o:typeof i.header=="string"?i.header:void 0,h;if(i.accessorFn?h=i.accessorFn:d&&(d.includes(".")?h=f=>{let u=f;for(const m of d.split(".")){var S;u=(S=u)==null?void 0:S[m]}return u}:h=f=>f[i.accessorKey]),!l)throw new Error;let p={id:`${String(l)}`,accessorFn:h,parent:n,depth:t,columnDef:i,columns:[],getFlatColumns:G(()=>[!0],()=>{var f;return[p,...(f=p.columns)==null?void 0:f.flatMap(u=>u.getFlatColumns())]},B(e.options,"debugColumns")),getLeafColumns:G(()=>[e._getOrderColumnsFn()],f=>{var u;if((u=p.columns)!=null&&u.length){let S=p.columns.flatMap(m=>m.getLeafColumns());return f(S)}return[p]},B(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(p,e);return p}const Re="debugHeaders";function un(e,r,t){var n;let s={id:(n=t.id)!=null?n:r.id,column:r,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],i=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(i),a.push(d)};return i(s),a},getContext:()=>({table:e,header:s,column:r})};return e._features.forEach(a=>{a.createHeader==null||a.createHeader(s,e)}),s}const Bo={createTable:e=>{e.getHeaderGroups=G(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(r,t,n,o)=>{var s,a;const i=(s=n?.map(p=>t.find(f=>f.id===p)).filter(Boolean))!=null?s:[],d=(a=o?.map(p=>t.find(f=>f.id===p)).filter(Boolean))!=null?a:[],l=t.filter(p=>!(n!=null&&n.includes(p.id))&&!(o!=null&&o.includes(p.id)));return st(r,[...i,...l,...d],e)},B(e.options,Re)),e.getCenterHeaderGroups=G(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(r,t,n,o)=>(t=t.filter(s=>!(n!=null&&n.includes(s.id))&&!(o!=null&&o.includes(s.id))),st(r,t,e,"center")),B(e.options,Re)),e.getLeftHeaderGroups=G(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(r,t,n)=>{var o;const s=(o=n?.map(a=>t.find(i=>i.id===a)).filter(Boolean))!=null?o:[];return st(r,s,e,"left")},B(e.options,Re)),e.getRightHeaderGroups=G(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(r,t,n)=>{var o;const s=(o=n?.map(a=>t.find(i=>i.id===a)).filter(Boolean))!=null?o:[];return st(r,s,e,"right")},B(e.options,Re)),e.getFooterGroups=G(()=>[e.getHeaderGroups()],r=>[...r].reverse(),B(e.options,Re)),e.getLeftFooterGroups=G(()=>[e.getLeftHeaderGroups()],r=>[...r].reverse(),B(e.options,Re)),e.getCenterFooterGroups=G(()=>[e.getCenterHeaderGroups()],r=>[...r].reverse(),B(e.options,Re)),e.getRightFooterGroups=G(()=>[e.getRightHeaderGroups()],r=>[...r].reverse(),B(e.options,Re)),e.getFlatHeaders=G(()=>[e.getHeaderGroups()],r=>r.map(t=>t.headers).flat(),B(e.options,Re)),e.getLeftFlatHeaders=G(()=>[e.getLeftHeaderGroups()],r=>r.map(t=>t.headers).flat(),B(e.options,Re)),e.getCenterFlatHeaders=G(()=>[e.getCenterHeaderGroups()],r=>r.map(t=>t.headers).flat(),B(e.options,Re)),e.getRightFlatHeaders=G(()=>[e.getRightHeaderGroups()],r=>r.map(t=>t.headers).flat(),B(e.options,Re)),e.getCenterLeafHeaders=G(()=>[e.getCenterFlatHeaders()],r=>r.filter(t=>{var n;return!((n=t.subHeaders)!=null&&n.length)}),B(e.options,Re)),e.getLeftLeafHeaders=G(()=>[e.getLeftFlatHeaders()],r=>r.filter(t=>{var n;return!((n=t.subHeaders)!=null&&n.length)}),B(e.options,Re)),e.getRightLeafHeaders=G(()=>[e.getRightFlatHeaders()],r=>r.filter(t=>{var n;return!((n=t.subHeaders)!=null&&n.length)}),B(e.options,Re)),e.getLeafHeaders=G(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(r,t,n)=>{var o,s,a,i,d,l;return[...(o=(s=r[0])==null?void 0:s.headers)!=null?o:[],...(a=(i=t[0])==null?void 0:i.headers)!=null?a:[],...(d=(l=n[0])==null?void 0:l.headers)!=null?d:[]].map(h=>h.getLeafHeaders()).flat()},B(e.options,Re))}};function st(e,r,t,n){var o,s;let a=0;const i=function(f,u){u===void 0&&(u=1),a=Math.max(a,u),f.filter(S=>S.getIsVisible()).forEach(S=>{var m;(m=S.columns)!=null&&m.length&&i(S.columns,u+1)},0)};i(e);let d=[];const l=(f,u)=>{const S={depth:u,id:[n,`${u}`].filter(Boolean).join("_"),headers:[]},m=[];f.forEach(M=>{const C=[...m].reverse()[0],R=M.column.depth===S.depth;let _,F=!1;if(R&&M.column.parent?_=M.column.parent:(_=M.column,F=!0),C&&C?.column===_)C.subHeaders.push(M);else{const w=un(t,_,{id:[n,u,_.id,M?.id].filter(Boolean).join("_"),isPlaceholder:F,placeholderId:F?`${m.filter(N=>N.column===_).length}`:void 0,depth:u,index:m.length});w.subHeaders.push(M),m.push(w)}S.headers.push(M),M.headerGroup=S}),d.push(S),u>0&&l(m,u-1)},h=r.map((f,u)=>un(t,f,{depth:a,index:u}));l(h,a-1),d.reverse();const p=f=>f.filter(S=>S.column.getIsVisible()).map(S=>{let m=0,M=0,C=[0];S.subHeaders&&S.subHeaders.length?(C=[],p(S.subHeaders).forEach(_=>{let{colSpan:F,rowSpan:w}=_;m+=F,C.push(w)})):m=1;const R=Math.min(...C);return M=M+R,S.colSpan=m,S.rowSpan=M,{colSpan:m,rowSpan:M}});return p((o=(s=d[0])==null?void 0:s.headers)!=null?o:[]),d}const Wt=(e,r,t,n,o,s,a)=>{let i={id:r,index:n,original:t,depth:o,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(i._valuesCache.hasOwnProperty(d))return i._valuesCache[d];const l=e.getColumn(d);if(l!=null&&l.accessorFn)return i._valuesCache[d]=l.accessorFn(i.original,n),i._valuesCache[d]},getUniqueValues:d=>{if(i._uniqueValuesCache.hasOwnProperty(d))return i._uniqueValuesCache[d];const l=e.getColumn(d);if(l!=null&&l.accessorFn)return l.columnDef.getUniqueValues?(i._uniqueValuesCache[d]=l.columnDef.getUniqueValues(i.original,n),i._uniqueValuesCache[d]):(i._uniqueValuesCache[d]=[i.getValue(d)],i._uniqueValuesCache[d])},renderValue:d=>{var l;return(l=i.getValue(d))!=null?l:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>zo(i.subRows,d=>d.subRows),getParentRow:()=>i.parentId?e.getRow(i.parentId,!0):void 0,getParentRows:()=>{let d=[],l=i;for(;;){const h=l.getParentRow();if(!h)break;d.push(h),l=h}return d.reverse()},getAllCells:G(()=>[e.getAllLeafColumns()],d=>d.map(l=>Ho(e,i,l,l.id)),B(e.options,"debugRows")),_getAllCellsByColumnId:G(()=>[i.getAllCells()],d=>d.reduce((l,h)=>(l[h.column.id]=h,l),{}),B(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const l=e._features[d];l==null||l.createRow==null||l.createRow(i,e)}return i},Uo={createColumn:(e,r)=>{e._getFacetedRowModel=r.options.getFacetedRowModel&&r.options.getFacetedRowModel(r,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():r.getPreFilteredRowModel(),e._getFacetedUniqueValues=r.options.getFacetedUniqueValues&&r.options.getFacetedUniqueValues(r,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=r.options.getFacetedMinMaxValues&&r.options.getFacetedMinMaxValues(r,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},On=(e,r,t)=>{var n,o;const s=t==null||(n=t.toString())==null?void 0:n.toLowerCase();return!!(!((o=e.getValue(r))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(s))};On.autoRemove=e=>ke(e);const kn=(e,r,t)=>{var n;return!!(!((n=e.getValue(r))==null||(n=n.toString())==null)&&n.includes(t))};kn.autoRemove=e=>ke(e);const Dn=(e,r,t)=>{var n;return((n=e.getValue(r))==null||(n=n.toString())==null?void 0:n.toLowerCase())===t?.toLowerCase()};Dn.autoRemove=e=>ke(e);const Tn=(e,r,t)=>{var n;return(n=e.getValue(r))==null?void 0:n.includes(t)};Tn.autoRemove=e=>ke(e);const $n=(e,r,t)=>!t.some(n=>{var o;return!((o=e.getValue(r))!=null&&o.includes(n))});$n.autoRemove=e=>ke(e)||!(e!=null&&e.length);const An=(e,r,t)=>t.some(n=>{var o;return(o=e.getValue(r))==null?void 0:o.includes(n)});An.autoRemove=e=>ke(e)||!(e!=null&&e.length);const Vn=(e,r,t)=>e.getValue(r)===t;Vn.autoRemove=e=>ke(e);const jn=(e,r,t)=>e.getValue(r)==t;jn.autoRemove=e=>ke(e);const Xt=(e,r,t)=>{let[n,o]=t;const s=e.getValue(r);return s>=n&&s<=o};Xt.resolveFilterValue=e=>{let[r,t]=e,n=typeof r!="number"?parseFloat(r):r,o=typeof t!="number"?parseFloat(t):t,s=r===null||Number.isNaN(n)?-1/0:n,a=t===null||Number.isNaN(o)?1/0:o;if(s>a){const i=s;s=a,a=i}return[s,a]};Xt.autoRemove=e=>ke(e)||ke(e[0])&&ke(e[1]);const De={includesString:On,includesStringSensitive:kn,equalsString:Dn,arrIncludes:Tn,arrIncludesAll:$n,arrIncludesSome:An,equals:Vn,weakEquals:jn,inNumberRange:Xt};function ke(e){return e==null||e===""}const qo={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:be("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,r)=>{e.getAutoFilterFn=()=>{const t=r.getCoreRowModel().flatRows[0],n=t?.getValue(e.id);return typeof n=="string"?De.includesString:typeof n=="number"?De.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?De.equals:Array.isArray(n)?De.arrIncludes:De.weakEquals},e.getFilterFn=()=>{var t,n;return wt(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(n=r.options.filterFns)==null?void 0:n[e.columnDef.filterFn])!=null?t:De[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,n,o;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((n=r.options.enableColumnFilters)!=null?n:!0)&&((o=r.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=r.getState().columnFilters)==null||(t=t.find(n=>n.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,n;return(t=(n=r.getState().columnFilters)==null?void 0:n.findIndex(o=>o.id===e.id))!=null?t:-1},e.setFilterValue=t=>{r.setColumnFilters(n=>{const o=e.getFilterFn(),s=n?.find(h=>h.id===e.id),a=Ae(t,s?s.value:void 0);if(cn(o,a,e)){var i;return(i=n?.filter(h=>h.id!==e.id))!=null?i:[]}const d={id:e.id,value:a};if(s){var l;return(l=n?.map(h=>h.id===e.id?d:h))!=null?l:[]}return n!=null&&n.length?[...n,d]:[d]})}},createRow:(e,r)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=r=>{const t=e.getAllLeafColumns(),n=o=>{var s;return(s=Ae(r,o))==null?void 0:s.filter(a=>{const i=t.find(d=>d.id===a.id);if(i){const d=i.getFilterFn();if(cn(d,a.value,i))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(n)},e.resetColumnFilters=r=>{var t,n;e.setColumnFilters(r?[]:(t=(n=e.initialState)==null?void 0:n.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function cn(e,r,t){return(e&&e.autoRemove?e.autoRemove(r,t):!1)||typeof r>"u"||typeof r=="string"&&!r}const Ko=(e,r,t)=>t.reduce((n,o)=>{const s=o.getValue(e);return n+(typeof s=="number"?s:0)},0),Wo=(e,r,t)=>{let n;return t.forEach(o=>{const s=o.getValue(e);s!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}),n},Xo=(e,r,t)=>{let n;return t.forEach(o=>{const s=o.getValue(e);s!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}),n},Yo=(e,r,t)=>{let n,o;return t.forEach(s=>{const a=s.getValue(e);a!=null&&(n===void 0?a>=a&&(n=o=a):(n>a&&(n=a),o<a&&(o=a)))}),[n,o]},Qo=(e,r)=>{let t=0,n=0;if(r.forEach(o=>{let s=o.getValue(e);s!=null&&(s=+s)>=s&&(++t,n+=s)}),t)return n/t},Jo=(e,r)=>{if(!r.length)return;const t=r.map(s=>s.getValue(e));if(!No(t))return;if(t.length===1)return t[0];const n=Math.floor(t.length/2),o=t.sort((s,a)=>s-a);return t.length%2!==0?o[n]:(o[n-1]+o[n])/2},Zo=(e,r)=>Array.from(new Set(r.map(t=>t.getValue(e))).values()),es=(e,r)=>new Set(r.map(t=>t.getValue(e))).size,ts=(e,r)=>r.length,Mt={sum:Ko,min:Wo,max:Xo,extent:Yo,mean:Qo,median:Jo,unique:Zo,uniqueCount:es,count:ts},ns={getDefaultColumnDef:()=>({aggregatedCell:e=>{var r,t;return(r=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?r:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:be("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,r)=>{e.toggleGrouping=()=>{r.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(n=>n!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,n;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((n=r.options.enableGrouping)!=null?n:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=r.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=r.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=r.getCoreRowModel().flatRows[0],n=t?.getValue(e.id);if(typeof n=="number")return Mt.sum;if(Object.prototype.toString.call(n)==="[object Date]")return Mt.extent},e.getAggregationFn=()=>{var t,n;if(!e)throw new Error;return wt(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(n=r.options.aggregationFns)==null?void 0:n[e.columnDef.aggregationFn])!=null?t:Mt[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=r=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(r),e.resetGrouping=r=>{var t,n;e.setGrouping(r?[]:(t=(n=e.initialState)==null?void 0:n.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,r)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const n=r.getColumn(t);return n!=null&&n.columnDef.getGroupingValue?(e._groupingValuesCache[t]=n.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,r,t,n)=>{e.getIsGrouped=()=>r.getIsGrouped()&&r.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&r.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=t.subRows)!=null&&o.length)}}};function rs(e,r,t){if(!(r!=null&&r.length)||!t)return e;const n=e.filter(s=>!r.includes(s.id));return t==="remove"?n:[...r.map(s=>e.find(a=>a.id===s)).filter(Boolean),...n]}const os={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:be("columnOrder",e)}),createColumn:(e,r)=>{e.getIndex=G(t=>[Qe(r,t)],t=>t.findIndex(n=>n.id===e.id),B(r.options,"debugColumns")),e.getIsFirstColumn=t=>{var n;return((n=Qe(r,t)[0])==null?void 0:n.id)===e.id},e.getIsLastColumn=t=>{var n;const o=Qe(r,t);return((n=o[o.length-1])==null?void 0:n.id)===e.id}},createTable:e=>{e.setColumnOrder=r=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(r),e.resetColumnOrder=r=>{var t;e.setColumnOrder(r?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=G(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(r,t,n)=>o=>{let s=[];if(!(r!=null&&r.length))s=o;else{const a=[...r],i=[...o];for(;i.length&&a.length;){const d=a.shift(),l=i.findIndex(h=>h.id===d);l>-1&&s.push(i.splice(l,1)[0])}s=[...s,...i]}return rs(s,t,n)},B(e.options,"debugTable"))}},It=()=>({left:[],right:[]}),ss={getInitialState:e=>({columnPinning:It(),...e}),getDefaultOptions:e=>({onColumnPinningChange:be("columnPinning",e)}),createColumn:(e,r)=>{e.pin=t=>{const n=e.getLeafColumns().map(o=>o.id).filter(Boolean);r.setColumnPinning(o=>{var s,a;if(t==="right"){var i,d;return{left:((i=o?.left)!=null?i:[]).filter(p=>!(n!=null&&n.includes(p))),right:[...((d=o?.right)!=null?d:[]).filter(p=>!(n!=null&&n.includes(p))),...n]}}if(t==="left"){var l,h;return{left:[...((l=o?.left)!=null?l:[]).filter(p=>!(n!=null&&n.includes(p))),...n],right:((h=o?.right)!=null?h:[]).filter(p=>!(n!=null&&n.includes(p)))}}return{left:((s=o?.left)!=null?s:[]).filter(p=>!(n!=null&&n.includes(p))),right:((a=o?.right)!=null?a:[]).filter(p=>!(n!=null&&n.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(n=>{var o,s,a;return((o=n.columnDef.enablePinning)!=null?o:!0)&&((s=(a=r.options.enableColumnPinning)!=null?a:r.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(i=>i.id),{left:n,right:o}=r.getState().columnPinning,s=t.some(i=>n?.includes(i)),a=t.some(i=>o?.includes(i));return s?"left":a?"right":!1},e.getPinnedIndex=()=>{var t,n;const o=e.getIsPinned();return o?(t=(n=r.getState().columnPinning)==null||(n=n[o])==null?void 0:n.indexOf(e.id))!=null?t:-1:0}},createRow:(e,r)=>{e.getCenterVisibleCells=G(()=>[e._getAllVisibleCells(),r.getState().columnPinning.left,r.getState().columnPinning.right],(t,n,o)=>{const s=[...n??[],...o??[]];return t.filter(a=>!s.includes(a.column.id))},B(r.options,"debugRows")),e.getLeftVisibleCells=G(()=>[e._getAllVisibleCells(),r.getState().columnPinning.left],(t,n)=>(n??[]).map(s=>t.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),B(r.options,"debugRows")),e.getRightVisibleCells=G(()=>[e._getAllVisibleCells(),r.getState().columnPinning.right],(t,n)=>(n??[]).map(s=>t.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),B(r.options,"debugRows"))},createTable:e=>{e.setColumnPinning=r=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(r),e.resetColumnPinning=r=>{var t,n;return e.setColumnPinning(r?It():(t=(n=e.initialState)==null?void 0:n.columnPinning)!=null?t:It())},e.getIsSomeColumnsPinned=r=>{var t;const n=e.getState().columnPinning;if(!r){var o,s;return!!((o=n.left)!=null&&o.length||(s=n.right)!=null&&s.length)}return!!((t=n[r])!=null&&t.length)},e.getLeftLeafColumns=G(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(r,t)=>(t??[]).map(n=>r.find(o=>o.id===n)).filter(Boolean),B(e.options,"debugColumns")),e.getRightLeafColumns=G(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(r,t)=>(t??[]).map(n=>r.find(o=>o.id===n)).filter(Boolean),B(e.options,"debugColumns")),e.getCenterLeafColumns=G(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(r,t,n)=>{const o=[...t??[],...n??[]];return r.filter(s=>!o.includes(s.id))},B(e.options,"debugColumns"))}};function is(e){return e||(typeof document<"u"?document:null)}const it={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Et=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),as={getDefaultColumnDef:()=>it,getInitialState:e=>({columnSizing:{},columnSizingInfo:Et(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:be("columnSizing",e),onColumnSizingInfoChange:be("columnSizingInfo",e)}),createColumn:(e,r)=>{e.getSize=()=>{var t,n,o;const s=r.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:it.minSize,(n=s??e.columnDef.size)!=null?n:it.size),(o=e.columnDef.maxSize)!=null?o:it.maxSize)},e.getStart=G(t=>[t,Qe(r,t),r.getState().columnSizing],(t,n)=>n.slice(0,e.getIndex(t)).reduce((o,s)=>o+s.getSize(),0),B(r.options,"debugColumns")),e.getAfter=G(t=>[t,Qe(r,t),r.getState().columnSizing],(t,n)=>n.slice(e.getIndex(t)+1).reduce((o,s)=>o+s.getSize(),0),B(r.options,"debugColumns")),e.resetSize=()=>{r.setColumnSizing(t=>{let{[e.id]:n,...o}=t;return o})},e.getCanResize=()=>{var t,n;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((n=r.options.enableColumnResizing)!=null?n:!0)},e.getIsResizing=()=>r.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,r)=>{e.getSize=()=>{let t=0;const n=o=>{if(o.subHeaders.length)o.subHeaders.forEach(n);else{var s;t+=(s=o.column.getSize())!=null?s:0}};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const n=r.getColumn(e.column.id),o=n?.getCanResize();return s=>{if(!n||!o||(s.persist==null||s.persist(),Pt(s)&&s.touches&&s.touches.length>1))return;const a=e.getSize(),i=e?e.getLeafHeaders().map(C=>[C.column.id,C.column.getSize()]):[[n.id,n.getSize()]],d=Pt(s)?Math.round(s.touches[0].clientX):s.clientX,l={},h=(C,R)=>{typeof R=="number"&&(r.setColumnSizingInfo(_=>{var F,w;const N=r.options.columnResizeDirection==="rtl"?-1:1,O=(R-((F=_?.startOffset)!=null?F:0))*N,c=Math.max(O/((w=_?.startSize)!=null?w:0),-.999999);return _.columnSizingStart.forEach(g=>{let[y,E]=g;l[y]=Math.round(Math.max(E+E*c,0)*100)/100}),{..._,deltaOffset:O,deltaPercentage:c}}),(r.options.columnResizeMode==="onChange"||C==="end")&&r.setColumnSizing(_=>({..._,...l})))},p=C=>h("move",C),f=C=>{h("end",C),r.setColumnSizingInfo(R=>({...R,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},u=is(t),S={moveHandler:C=>p(C.clientX),upHandler:C=>{u?.removeEventListener("mousemove",S.moveHandler),u?.removeEventListener("mouseup",S.upHandler),f(C.clientX)}},m={moveHandler:C=>(C.cancelable&&(C.preventDefault(),C.stopPropagation()),p(C.touches[0].clientX),!1),upHandler:C=>{var R;u?.removeEventListener("touchmove",m.moveHandler),u?.removeEventListener("touchend",m.upHandler),C.cancelable&&(C.preventDefault(),C.stopPropagation()),f((R=C.touches[0])==null?void 0:R.clientX)}},M=ls()?{passive:!1}:!1;Pt(s)?(u?.addEventListener("touchmove",m.moveHandler,M),u?.addEventListener("touchend",m.upHandler,M)):(u?.addEventListener("mousemove",S.moveHandler,M),u?.addEventListener("mouseup",S.upHandler,M)),r.setColumnSizingInfo(C=>({...C,startOffset:d,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:i,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=r=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(r),e.setColumnSizingInfo=r=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(r),e.resetColumnSizing=r=>{var t;e.setColumnSizing(r?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=r=>{var t;e.setColumnSizingInfo(r?Et():(t=e.initialState.columnSizingInfo)!=null?t:Et())},e.getTotalSize=()=>{var r,t;return(r=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((n,o)=>n+o.getSize(),0))!=null?r:0},e.getLeftTotalSize=()=>{var r,t;return(r=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((n,o)=>n+o.getSize(),0))!=null?r:0},e.getCenterTotalSize=()=>{var r,t;return(r=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((n,o)=>n+o.getSize(),0))!=null?r:0},e.getRightTotalSize=()=>{var r,t;return(r=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((n,o)=>n+o.getSize(),0))!=null?r:0}}};let at=null;function ls(){if(typeof at=="boolean")return at;let e=!1;try{const r={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,r),window.removeEventListener("test",t)}catch{e=!1}return at=e,at}function Pt(e){return e.type==="touchstart"}const us={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:be("columnVisibility",e)}),createColumn:(e,r)=>{e.toggleVisibility=t=>{e.getCanHide()&&r.setColumnVisibility(n=>({...n,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,n;const o=e.columns;return(t=o.length?o.some(s=>s.getIsVisible()):(n=r.getState().columnVisibility)==null?void 0:n[e.id])!=null?t:!0},e.getCanHide=()=>{var t,n;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((n=r.options.enableHiding)!=null?n:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,r)=>{e._getAllVisibleCells=G(()=>[e.getAllCells(),r.getState().columnVisibility],t=>t.filter(n=>n.column.getIsVisible()),B(r.options,"debugRows")),e.getVisibleCells=G(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,n,o)=>[...t,...n,...o],B(r.options,"debugRows"))},createTable:e=>{const r=(t,n)=>G(()=>[n(),n().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),B(e.options,"debugColumns"));e.getVisibleFlatColumns=r("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=r("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=r("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=r("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=r("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:(n=e.initialState.columnVisibility)!=null?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=(n=t)!=null?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,s)=>({...o,[s.id]:t||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible((n=t.target)==null?void 0:n.checked)}}};function Qe(e,r){return r?r==="center"?e.getCenterVisibleLeafColumns():r==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const cs={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},ds={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:be("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:r=>{var t;const n=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[r.id])==null?void 0:t.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(e,r)=>{e.getCanGlobalFilter=()=>{var t,n,o,s;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((n=r.options.enableGlobalFilter)!=null?n:!0)&&((o=r.options.enableFilters)!=null?o:!0)&&((s=r.options.getColumnCanGlobalFilter==null?void 0:r.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>De.includesString,e.getGlobalFilterFn=()=>{var r,t;const{globalFilterFn:n}=e.options;return wt(n)?n:n==="auto"?e.getGlobalAutoFilterFn():(r=(t=e.options.filterFns)==null?void 0:t[n])!=null?r:De[n]},e.setGlobalFilter=r=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(r)},e.resetGlobalFilter=r=>{e.setGlobalFilter(r?void 0:e.initialState.globalFilter)}}},gs={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:be("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let r=!1,t=!1;e._autoResetExpanded=()=>{var n,o;if(!r){e._queue(()=>{r=!0});return}if((n=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?n:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=n=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(n),e.toggleAllRowsExpanded=n=>{n??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=n=>{var o,s;e.setExpanded(n?{}:(o=(s=e.initialState)==null?void 0:s.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const n=e.getState().expanded;return n===!0||Object.values(n).some(Boolean)},e.getIsAllRowsExpanded=()=>{const n=e.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let n=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const a=s.split(".");n=Math.max(n,a.length)}),n},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,r)=>{e.toggleExpanded=t=>{r.setExpanded(n=>{var o;const s=n===!0?!0:!!(n!=null&&n[e.id]);let a={};if(n===!0?Object.keys(r.getRowModel().rowsById).forEach(i=>{a[i]=!0}):a=n,t=(o=t)!=null?o:!s,!s&&t)return{...a,[e.id]:!0};if(s&&!t){const{[e.id]:i,...d}=a;return d}return n})},e.getIsExpanded=()=>{var t;const n=r.getState().expanded;return!!((t=r.options.getIsRowExpanded==null?void 0:r.options.getIsRowExpanded(e))!=null?t:n===!0||n?.[e.id])},e.getCanExpand=()=>{var t,n,o;return(t=r.options.getRowCanExpand==null?void 0:r.options.getRowCanExpand(e))!=null?t:((n=r.options.enableExpanding)!=null?n:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let t=!0,n=e;for(;t&&n.parentId;)n=r.getRow(n.parentId,!0),t=n.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},At=0,Vt=10,Ft=()=>({pageIndex:At,pageSize:Vt}),fs={getInitialState:e=>({...e,pagination:{...Ft(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:be("pagination",e)}),createTable:e=>{let r=!1,t=!1;e._autoResetPageIndex=()=>{var n,o;if(!r){e._queue(()=>{r=!0});return}if((n=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?n:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=n=>{const o=s=>Ae(n,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=n=>{var o;e.setPagination(n?Ft():(o=e.initialState.pagination)!=null?o:Ft())},e.setPageIndex=n=>{e.setPagination(o=>{let s=Ae(n,o.pageIndex);const a=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,a)),{...o,pageIndex:s}})},e.resetPageIndex=n=>{var o,s;e.setPageIndex(n?At:(o=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?o:At)},e.resetPageSize=n=>{var o,s;e.setPageSize(n?Vt:(o=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?o:Vt)},e.setPageSize=n=>{e.setPagination(o=>{const s=Math.max(1,Ae(n,o.pageSize)),a=o.pageSize*o.pageIndex,i=Math.floor(a/s);return{...o,pageIndex:i,pageSize:s}})},e.setPageCount=n=>e.setPagination(o=>{var s;let a=Ae(n,(s=e.options.pageCount)!=null?s:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...o,pageCount:a}}),e.getPageOptions=G(()=>[e.getPageCount()],n=>{let o=[];return n&&n>0&&(o=[...new Array(n)].fill(null).map((s,a)=>a)),o},B(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:n}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:n<o-1},e.previousPage=()=>e.setPageIndex(n=>n-1),e.nextPage=()=>e.setPageIndex(n=>n+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var n;return(n=e.options.pageCount)!=null?n:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var n;return(n=e.options.rowCount)!=null?n:e.getPrePaginationRowModel().rows.length}}},bt=()=>({top:[],bottom:[]}),ps={getInitialState:e=>({rowPinning:bt(),...e}),getDefaultOptions:e=>({onRowPinningChange:be("rowPinning",e)}),createRow:(e,r)=>{e.pin=(t,n,o)=>{const s=n?e.getLeafRows().map(d=>{let{id:l}=d;return l}):[],a=o?e.getParentRows().map(d=>{let{id:l}=d;return l}):[],i=new Set([...a,e.id,...s]);r.setRowPinning(d=>{var l,h;if(t==="bottom"){var p,f;return{top:((p=d?.top)!=null?p:[]).filter(m=>!(i!=null&&i.has(m))),bottom:[...((f=d?.bottom)!=null?f:[]).filter(m=>!(i!=null&&i.has(m))),...Array.from(i)]}}if(t==="top"){var u,S;return{top:[...((u=d?.top)!=null?u:[]).filter(m=>!(i!=null&&i.has(m))),...Array.from(i)],bottom:((S=d?.bottom)!=null?S:[]).filter(m=>!(i!=null&&i.has(m)))}}return{top:((l=d?.top)!=null?l:[]).filter(m=>!(i!=null&&i.has(m))),bottom:((h=d?.bottom)!=null?h:[]).filter(m=>!(i!=null&&i.has(m)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:n,enablePinning:o}=r.options;return typeof n=="function"?n(e):(t=n??o)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:n,bottom:o}=r.getState().rowPinning,s=t.some(i=>n?.includes(i)),a=t.some(i=>o?.includes(i));return s?"top":a?"bottom":!1},e.getPinnedIndex=()=>{var t,n;const o=e.getIsPinned();if(!o)return-1;const s=(t=o==="top"?r.getTopRows():r.getBottomRows())==null?void 0:t.map(a=>{let{id:i}=a;return i});return(n=s?.indexOf(e.id))!=null?n:-1}},createTable:e=>{e.setRowPinning=r=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(r),e.resetRowPinning=r=>{var t,n;return e.setRowPinning(r?bt():(t=(n=e.initialState)==null?void 0:n.rowPinning)!=null?t:bt())},e.getIsSomeRowsPinned=r=>{var t;const n=e.getState().rowPinning;if(!r){var o,s;return!!((o=n.top)!=null&&o.length||(s=n.bottom)!=null&&s.length)}return!!((t=n[r])!=null&&t.length)},e._getPinnedRows=(r,t,n)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(t??[]).map(a=>{const i=e.getRow(a,!0);return i.getIsAllParentsExpanded()?i:null}):(t??[]).map(a=>r.find(i=>i.id===a))).filter(Boolean).map(a=>({...a,position:n}))},e.getTopRows=G(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(r,t)=>e._getPinnedRows(r,t,"top"),B(e.options,"debugRows")),e.getBottomRows=G(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(r,t)=>e._getPinnedRows(r,t,"bottom"),B(e.options,"debugRows")),e.getCenterRows=G(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(r,t,n)=>{const o=new Set([...t??[],...n??[]]);return r.filter(s=>!o.has(s.id))},B(e.options,"debugRows"))}},hs={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:be("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=r=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(r),e.resetRowSelection=r=>{var t;return e.setRowSelection(r?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=r=>{e.setRowSelection(t=>{r=typeof r<"u"?r:!e.getIsAllRowsSelected();const n={...t},o=e.getPreGroupedRowModel().flatRows;return r?o.forEach(s=>{s.getCanSelect()&&(n[s.id]=!0)}):o.forEach(s=>{delete n[s.id]}),n})},e.toggleAllPageRowsSelected=r=>e.setRowSelection(t=>{const n=typeof r<"u"?r:!e.getIsAllPageRowsSelected(),o={...t};return e.getRowModel().rows.forEach(s=>{jt(o,s.id,n,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=G(()=>[e.getState().rowSelection,e.getCoreRowModel()],(r,t)=>Object.keys(r).length?Ot(e,t):{rows:[],flatRows:[],rowsById:{}},B(e.options,"debugTable")),e.getFilteredSelectedRowModel=G(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(r,t)=>Object.keys(r).length?Ot(e,t):{rows:[],flatRows:[],rowsById:{}},B(e.options,"debugTable")),e.getGroupedSelectedRowModel=G(()=>[e.getState().rowSelection,e.getSortedRowModel()],(r,t)=>Object.keys(r).length?Ot(e,t):{rows:[],flatRows:[],rowsById:{}},B(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const r=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let n=!!(r.length&&Object.keys(t).length);return n&&r.some(o=>o.getCanSelect()&&!t[o.id])&&(n=!1),n},e.getIsAllPageRowsSelected=()=>{const r=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:t}=e.getState();let n=!!r.length;return n&&r.some(o=>!t[o.id])&&(n=!1),n},e.getIsSomeRowsSelected=()=>{var r;const t=Object.keys((r=e.getState().rowSelection)!=null?r:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const r=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:r.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>r=>{e.toggleAllRowsSelected(r.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>r=>{e.toggleAllPageRowsSelected(r.target.checked)}},createRow:(e,r)=>{e.toggleSelected=(t,n)=>{const o=e.getIsSelected();r.setRowSelection(s=>{var a;if(t=typeof t<"u"?t:!o,e.getCanSelect()&&o===t)return s;const i={...s};return jt(i,e.id,t,(a=n?.selectChildren)!=null?a:!0,r),i})},e.getIsSelected=()=>{const{rowSelection:t}=r.getState();return Yt(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=r.getState();return Lt(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=r.getState();return Lt(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof r.options.enableRowSelection=="function"?r.options.enableRowSelection(e):(t=r.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof r.options.enableSubRowSelection=="function"?r.options.enableSubRowSelection(e):(t=r.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof r.options.enableMultiRowSelection=="function"?r.options.enableMultiRowSelection(e):(t=r.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var o;t&&e.toggleSelected((o=n.target)==null?void 0:o.checked)}}}},jt=(e,r,t,n,o)=>{var s;const a=o.getRow(r,!0);t?(a.getCanMultiSelect()||Object.keys(e).forEach(i=>delete e[i]),a.getCanSelect()&&(e[r]=!0)):delete e[r],n&&(s=a.subRows)!=null&&s.length&&a.getCanSelectSubRows()&&a.subRows.forEach(i=>jt(e,i.id,t,n,o))};function Ot(e,r){const t=e.getState().rowSelection,n=[],o={},s=function(a,i){return a.map(d=>{var l;const h=Yt(d,t);if(h&&(n.push(d),o[d.id]=d),(l=d.subRows)!=null&&l.length&&(d={...d,subRows:s(d.subRows)}),h)return d}).filter(Boolean)};return{rows:s(r.rows),flatRows:n,rowsById:o}}function Yt(e,r){var t;return(t=r[e.id])!=null?t:!1}function Lt(e,r,t){var n;if(!((n=e.subRows)!=null&&n.length))return!1;let o=!0,s=!1;return e.subRows.forEach(a=>{if(!(s&&!o)&&(a.getCanSelect()&&(Yt(a,r)?s=!0:o=!1),a.subRows&&a.subRows.length)){const i=Lt(a,r);i==="all"?s=!0:(i==="some"&&(s=!0),o=!1)}}),o?"all":s?"some":!1}const Nt=/([0-9]+)/gm,ms=(e,r,t)=>Ln(Le(e.getValue(t)).toLowerCase(),Le(r.getValue(t)).toLowerCase()),vs=(e,r,t)=>Ln(Le(e.getValue(t)),Le(r.getValue(t))),Cs=(e,r,t)=>Qt(Le(e.getValue(t)).toLowerCase(),Le(r.getValue(t)).toLowerCase()),Rs=(e,r,t)=>Qt(Le(e.getValue(t)),Le(r.getValue(t))),ws=(e,r,t)=>{const n=e.getValue(t),o=r.getValue(t);return n>o?1:n<o?-1:0},Ss=(e,r,t)=>Qt(e.getValue(t),r.getValue(t));function Qt(e,r){return e===r?0:e>r?1:-1}function Le(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Ln(e,r){const t=e.split(Nt).filter(Boolean),n=r.split(Nt).filter(Boolean);for(;t.length&&n.length;){const o=t.shift(),s=n.shift(),a=parseInt(o,10),i=parseInt(s,10),d=[a,i].sort();if(isNaN(d[0])){if(o>s)return 1;if(s>o)return-1;continue}if(isNaN(d[1]))return isNaN(a)?-1:1;if(a>i)return 1;if(i>a)return-1}return t.length-n.length}const qe={alphanumeric:ms,alphanumericCaseSensitive:vs,text:Cs,textCaseSensitive:Rs,datetime:ws,basic:Ss},xs={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:be("sorting",e),isMultiSortEvent:r=>r.shiftKey}),createColumn:(e,r)=>{e.getAutoSortingFn=()=>{const t=r.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const o of t){const s=o?.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return qe.datetime;if(typeof s=="string"&&(n=!0,s.split(Nt).length>1))return qe.alphanumeric}return n?qe.text:qe.basic},e.getAutoSortDir=()=>{const t=r.getFilteredRowModel().flatRows[0];return typeof t?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,n;if(!e)throw new Error;return wt(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(n=r.options.sortingFns)==null?void 0:n[e.columnDef.sortingFn])!=null?t:qe[e.columnDef.sortingFn]},e.toggleSorting=(t,n)=>{const o=e.getNextSortingOrder(),s=typeof t<"u"&&t!==null;r.setSorting(a=>{const i=a?.find(u=>u.id===e.id),d=a?.findIndex(u=>u.id===e.id);let l=[],h,p=s?t:o==="desc";if(a!=null&&a.length&&e.getCanMultiSort()&&n?i?h="toggle":h="add":a!=null&&a.length&&d!==a.length-1?h="replace":i?h="toggle":h="replace",h==="toggle"&&(s||o||(h="remove")),h==="add"){var f;l=[...a,{id:e.id,desc:p}],l.splice(0,l.length-((f=r.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else h==="toggle"?l=a.map(u=>u.id===e.id?{...u,desc:p}:u):h==="remove"?l=a.filter(u=>u.id!==e.id):l=[{id:e.id,desc:p}];return l})},e.getFirstSortDir=()=>{var t,n;return((t=(n=e.columnDef.sortDescFirst)!=null?n:r.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var n,o;const s=e.getFirstSortDir(),a=e.getIsSorted();return a?a!==s&&((n=r.options.enableSortingRemoval)==null||n)&&(!(t&&(o=r.options.enableMultiRemove)!=null)||o)?!1:a==="desc"?"asc":"desc":s},e.getCanSort=()=>{var t,n;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((n=r.options.enableSorting)!=null?n:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,n;return(t=(n=e.columnDef.enableMultiSort)!=null?n:r.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const n=(t=r.getState().sorting)==null?void 0:t.find(o=>o.id===e.id);return n?n.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,n;return(t=(n=r.getState().sorting)==null?void 0:n.findIndex(o=>o.id===e.id))!=null?t:-1},e.clearSorting=()=>{r.setSorting(t=>t!=null&&t.length?t.filter(n=>n.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return n=>{t&&(n.persist==null||n.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?r.options.isMultiSortEvent==null?void 0:r.options.isMultiSortEvent(n):!1))}}},createTable:e=>{e.setSorting=r=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(r),e.resetSorting=r=>{var t,n;e.setSorting(r?[]:(t=(n=e.initialState)==null?void 0:n.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},ys=[Bo,us,os,ss,Uo,qo,cs,ds,xs,ns,gs,fs,ps,hs,as];function _s(e){var r,t;const n=[...ys,...(r=e._features)!=null?r:[]];let o={_features:n};const s=o._features.reduce((f,u)=>Object.assign(f,u.getDefaultOptions==null?void 0:u.getDefaultOptions(o)),{}),a=f=>o.options.mergeOptions?o.options.mergeOptions(s,f):{...s,...f};let d={...{},...(t=e.initialState)!=null?t:{}};o._features.forEach(f=>{var u;d=(u=f.getInitialState==null?void 0:f.getInitialState(d))!=null?u:d});const l=[];let h=!1;const p={_features:n,options:{...s,...e},initialState:d,_queue:f=>{l.push(f),h||(h=!0,Promise.resolve().then(()=>{for(;l.length;)l.shift()();h=!1}).catch(u=>setTimeout(()=>{throw u})))},reset:()=>{o.setState(o.initialState)},setOptions:f=>{const u=Ae(f,o.options);o.options=a(u)},getState:()=>o.options.state,setState:f=>{o.options.onStateChange==null||o.options.onStateChange(f)},_getRowId:(f,u,S)=>{var m;return(m=o.options.getRowId==null?void 0:o.options.getRowId(f,u,S))!=null?m:`${S?[S.id,u].join("."):u}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(f,u)=>{let S=(u?o.getPrePaginationRowModel():o.getRowModel()).rowsById[f];if(!S&&(S=o.getCoreRowModel().rowsById[f],!S))throw new Error;return S},_getDefaultColumnDef:G(()=>[o.options.defaultColumn],f=>{var u;return f=(u=f)!=null?u:{},{header:S=>{const m=S.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:S=>{var m,M;return(m=(M=S.renderValue())==null||M.toString==null?void 0:M.toString())!=null?m:null},...o._features.reduce((S,m)=>Object.assign(S,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...f}},B(e,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:G(()=>[o._getColumnDefs()],f=>{const u=function(S,m,M){return M===void 0&&(M=0),S.map(C=>{const R=Go(o,C,M,m),_=C;return R.columns=_.columns?u(_.columns,R,M+1):[],R})};return u(f)},B(e,"debugColumns")),getAllFlatColumns:G(()=>[o.getAllColumns()],f=>f.flatMap(u=>u.getFlatColumns()),B(e,"debugColumns")),_getAllFlatColumnsById:G(()=>[o.getAllFlatColumns()],f=>f.reduce((u,S)=>(u[S.id]=S,u),{}),B(e,"debugColumns")),getAllLeafColumns:G(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(f,u)=>{let S=f.flatMap(m=>m.getLeafColumns());return u(S)},B(e,"debugColumns")),getColumn:f=>o._getAllFlatColumnsById()[f]};Object.assign(o,p);for(let f=0;f<o._features.length;f++){const u=o._features[f];u==null||u.createTable==null||u.createTable(o)}return o}function Ms(){return e=>G(()=>[e.options.data],r=>{const t={rows:[],flatRows:[],rowsById:{}},n=function(o,s,a){s===void 0&&(s=0);const i=[];for(let l=0;l<o.length;l++){const h=Wt(e,e._getRowId(o[l],l,a),o[l],l,s,void 0,a?.id);if(t.flatRows.push(h),t.rowsById[h.id]=h,i.push(h),e.options.getSubRows){var d;h.originalSubRows=e.options.getSubRows(o[l],l),(d=h.originalSubRows)!=null&&d.length&&(h.subRows=n(h.originalSubRows,s+1,h))}}return i};return t.rows=n(r),t},B(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Is(e){const r=[],t=n=>{var o;r.push(n),(o=n.subRows)!=null&&o.length&&n.getIsExpanded()&&n.subRows.forEach(t)};return e.rows.forEach(t),{rows:r,flatRows:e.flatRows,rowsById:e.rowsById}}function Es(e,r,t){return t.options.filterFromLeafRows?Ps(e,r,t):Fs(e,r,t)}function Ps(e,r,t){var n;const o=[],s={},a=(n=t.options.maxLeafRowFilterDepth)!=null?n:100,i=function(d,l){l===void 0&&(l=0);const h=[];for(let f=0;f<d.length;f++){var p;let u=d[f];const S=Wt(t,u.id,u.original,u.index,u.depth,void 0,u.parentId);if(S.columnFilters=u.columnFilters,(p=u.subRows)!=null&&p.length&&l<a){if(S.subRows=i(u.subRows,l+1),u=S,r(u)&&!S.subRows.length){h.push(u),s[u.id]=u,o.push(u);continue}if(r(u)||S.subRows.length){h.push(u),s[u.id]=u,o.push(u);continue}}else u=S,r(u)&&(h.push(u),s[u.id]=u,o.push(u))}return h};return{rows:i(e),flatRows:o,rowsById:s}}function Fs(e,r,t){var n;const o=[],s={},a=(n=t.options.maxLeafRowFilterDepth)!=null?n:100,i=function(d,l){l===void 0&&(l=0);const h=[];for(let f=0;f<d.length;f++){let u=d[f];if(r(u)){var p;if((p=u.subRows)!=null&&p.length&&l<a){const m=Wt(t,u.id,u.original,u.index,u.depth,void 0,u.parentId);m.subRows=i(u.subRows,l+1),u=m}h.push(u),o.push(u),s[u.id]=u}}return h};return{rows:i(e),flatRows:o,rowsById:s}}function bs(){return e=>G(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(r,t,n)=>{if(!r.rows.length||!(t!=null&&t.length)&&!n){for(let f=0;f<r.flatRows.length;f++)r.flatRows[f].columnFilters={},r.flatRows[f].columnFiltersMeta={};return r}const o=[],s=[];(t??[]).forEach(f=>{var u;const S=e.getColumn(f.id);if(!S)return;const m=S.getFilterFn();m&&o.push({id:f.id,filterFn:m,resolvedValue:(u=m.resolveFilterValue==null?void 0:m.resolveFilterValue(f.value))!=null?u:f.value})});const a=(t??[]).map(f=>f.id),i=e.getGlobalFilterFn(),d=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());n&&i&&d.length&&(a.push("__global__"),d.forEach(f=>{var u;s.push({id:f.id,filterFn:i,resolvedValue:(u=i.resolveFilterValue==null?void 0:i.resolveFilterValue(n))!=null?u:n})}));let l,h;for(let f=0;f<r.flatRows.length;f++){const u=r.flatRows[f];if(u.columnFilters={},o.length)for(let S=0;S<o.length;S++){l=o[S];const m=l.id;u.columnFilters[m]=l.filterFn(u,m,l.resolvedValue,M=>{u.columnFiltersMeta[m]=M})}if(s.length){for(let S=0;S<s.length;S++){h=s[S];const m=h.id;if(h.filterFn(u,m,h.resolvedValue,M=>{u.columnFiltersMeta[m]=M})){u.columnFilters.__global__=!0;break}}u.columnFilters.__global__!==!0&&(u.columnFilters.__global__=!1)}}const p=f=>{for(let u=0;u<a.length;u++)if(f.columnFilters[a[u]]===!1)return!1;return!0};return Es(r.rows,p,e)},B(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Os(e){return r=>G(()=>[r.getState().pagination,r.getPrePaginationRowModel(),r.options.paginateExpandedRows?void 0:r.getState().expanded],(t,n)=>{if(!n.rows.length)return n;const{pageSize:o,pageIndex:s}=t;let{rows:a,flatRows:i,rowsById:d}=n;const l=o*s,h=l+o;a=a.slice(l,h);let p;r.options.paginateExpandedRows?p={rows:a,flatRows:i,rowsById:d}:p=Is({rows:a,flatRows:i,rowsById:d}),p.flatRows=[];const f=u=>{p.flatRows.push(u),u.subRows.length&&u.subRows.forEach(f)};return p.rows.forEach(f),p},B(r.options,"debugTable"))}function dn(e,r){return e?ks(e)?x.createElement(e,r):e:null}function ks(e){return Ds(e)||typeof e=="function"||Ts(e)}function Ds(e){return typeof e=="function"&&(()=>{const r=Object.getPrototypeOf(e);return r.prototype&&r.prototype.isReactComponent})()}function Ts(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function $s(e){const r={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[t]=x.useState(()=>({current:_s(r)})),[n,o]=x.useState(()=>t.current.initialState);return t.current.setOptions(s=>({...s,...e,state:{...n,...e.state},onStateChange:a=>{o(a),e.onStateChange==null||e.onStateChange(a)}})),t.current}function As({className:e,...r}){return v.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:v.jsx("table",{"data-slot":"table",className:pe("w-full caption-bottom text-sm",e),...r})})}function Vs({className:e,...r}){return v.jsx("thead",{"data-slot":"table-header",className:pe("[&_tr]:border-b",e),...r})}function js({className:e,...r}){return v.jsx("tbody",{"data-slot":"table-body",className:pe("[&_tr:last-child]:border-0",e),...r})}function kt({className:e,...r}){return v.jsx("tr",{"data-slot":"table-row",className:pe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...r})}function Ls({className:e,...r}){return v.jsx("th",{"data-slot":"table-head",className:pe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0",e),...r})}function gn({className:e,...r}){return v.jsx("td",{"data-slot":"table-cell",className:pe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0",e),...r})}const Nn=x.createContext(void 0);function zn(e){const r=x.useContext(Nn);if(r===void 0&&!e)throw new Error(Ze(33));return r}const Hn=x.createContext(void 0);function ze(e){const r=x.useContext(Hn);if(r===void 0&&!e)throw new Error(Ze(36));return r}const Ns=x.createContext(void 0);function St(e=!0){const r=x.useContext(Ns);if(r===void 0&&!e)throw new Error(Ze(25));return r}const zs={type:"regular-item"};function Hs(e){const{closeOnClick:r,disabled:t=!1,highlighted:n,id:o,store:s,nativeButton:a,itemMetadata:i,nodeId:d}=e,l=x.useRef(null),h=St(!0),p=h!==void 0,{events:f}=s.useState("floatingTreeRoot"),{getButtonProps:u,buttonRef:S}=mn({disabled:t,focusableWhenDisabled:!0,native:a}),m=x.useCallback(C=>Tt({id:o,role:"menuitem",tabIndex:n?0:-1,onMouseMove(R){d&&f.emit("itemhover",{nodeId:d,target:R.currentTarget})},onMouseEnter(){i.type==="submenu-trigger"&&i.setActive()},onKeyUp(R){R.key===" "&&s.context.typingRef.current&&R.preventBaseUIHandler()},onClick(R){r&&f.emit("close",{domEvent:R,reason:_n})},onMouseUp(R){if(h){const _=h.initialCursorPointRef.current;if(h.initialCursorPointRef.current=null,p&&_&&Math.abs(R.clientX-_.x)<=1&&Math.abs(R.clientY-_.y)<=1)return}l.current&&s.context.allowMouseUpTriggerRef.current&&(!p||R.button===2)&&i.type==="regular-item"&&l.current.click()}},C,u),[o,n,u,r,f,s,p,h,i,d]),M=vn(l,S);return x.useMemo(()=>({getItemProps:m,itemRef:M}),[m,M])}const Gn=x.createContext({register:()=>{},unregister:()=>{},subscribeMapChange:()=>()=>{},elementsRef:{current:[]},nextIndexRef:{current:0}});function Gs(){return x.useContext(Gn)}let Bs=(function(e){return e[e.None=0]="None",e[e.GuessFromOrder=1]="GuessFromOrder",e})({});function Bn(e={}){const{label:r,metadata:t,textRef:n,indexGuessBehavior:o,index:s}=e,{register:a,unregister:i,subscribeMapChange:d,elementsRef:l,labelsRef:h,nextIndexRef:p}=Gs(),f=x.useRef(-1),[u,S]=x.useState(s??(o===Bs.GuessFromOrder?()=>{if(f.current===-1){const C=p.current;p.current+=1,f.current=C}return f.current}:-1)),m=x.useRef(null),M=x.useCallback(C=>{if(m.current=C,u!==-1&&C!==null&&(l.current[u]=C,h)){const R=r!==void 0;h.current[u]=R?r:n?.current?.textContent??C.textContent}},[u,l,h,r,n]);return Ce(()=>{if(s!=null)return;const C=m.current;if(C)return a(C,t),()=>{i(C)}},[s,a,i,t]),Ce(()=>{if(s==null)return d(C=>{const R=m.current?C.get(m.current)?.index:null;R!=null&&S(R)})},[s,d,S]),x.useMemo(()=>({ref:M,index:u}),[u,M])}const Us=x.forwardRef(function(r,t){const{render:n,className:o,id:s,label:a,nativeButton:i=!1,disabled:d=!1,closeOnClick:l=!0,...h}=r,p=Bn({label:a}),f=zn(!0),u=Mn(s),{store:S}=ze(),m=S.useState("isActive",p.index),M=S.useState("itemProps"),{getItemProps:C,itemRef:R}=Hs({closeOnClick:l,disabled:d,highlighted:m,id:u,store:S,nativeButton:i,nodeId:f?.nodeId,itemMetadata:zs}),_=x.useMemo(()=>({disabled:d,highlighted:m}),[d,m]);return et("div",r,{state:_,props:[M,h,C],ref:[R,t,p.ref]})}),qs={...In,...mr},Ks=x.forwardRef(function(r,t){const{render:n,className:o,finalFocus:s,...a}=r,{store:i}=ze(),{side:d,align:l}=zn(),h=Wr()!=null,p=i.useState("open"),f=i.useState("transitionStatus"),u=i.useState("popupProps"),S=i.useState("mounted"),m=i.useState("instantType"),M=i.useState("activeTriggerElement"),C=i.useState("parent"),R=i.useState("lastOpenChangeReason"),_=i.useState("rootId"),F=i.useState("floatingRootContext"),w=i.useState("floatingTreeRoot"),N=i.useState("closeDelay"),O=i.useState("activeTriggerElement");fr({open:p,ref:i.context.popupRef,onComplete(){p&&i.context.onOpenChangeComplete?.(!0)}}),x.useEffect(()=>{function T(J){i.setOpen(!1,Fe(J.reason,J.domEvent))}return w.events.on("close",T),()=>{w.events.off("close",T)}},[w.events,i]);const c=i.useState("hoverEnabled"),g=i.useState("disabled");Xr(F,{enabled:c&&!g&&C.type!=="context-menu"&&C.type!=="menubar",closeDelay:N});const y=x.useMemo(()=>({transitionStatus:f,side:d,align:l,open:p,nested:C.type==="menu",instant:m}),[f,d,l,p,C.type,m]),E=et("div",r,{state:y,ref:[t,i.context.popupRef],stateAttributesMapping:qs,props:[u,{onKeyDown(T){h&&vr.has(T.key)&&T.stopPropagation()}},Yr(f),a,{"data-rootownerid":_}]});let P=C.type===void 0||C.type==="context-menu";return(M||C.type==="menubar"&&R!==pr)&&(P=!0),v.jsx(hr,{context:F,modal:!1,disabled:!S,returnFocus:s===void 0?P:s,initialFocus:C.type!=="menu",restoreFocus:!0,externalTree:C.type!=="menubar"?w:void 0,previousFocusableElement:O,nextFocusableElement:C.type===void 0?i.context.triggerFocusTargetRef:void 0,beforeContentFocusGuardRef:C.type===void 0?i.context.beforeContentFocusGuardRef:void 0,children:E})}),Un=x.createContext(void 0);function Ws(){const e=x.useContext(Un);if(e===void 0)throw new Error(Ze(32));return e}const Xs=x.forwardRef(function(r,t){const{keepMounted:n=!1,...o}=r,{store:s}=ze();return s.useState("mounted")||n?v.jsx(Un.Provider,{value:n,children:v.jsx(Cr,{ref:t,...o})}):null});function Ys(e){const{children:r,elementsRef:t,labelsRef:n,onMapChange:o}=e,s=Pe(o),a=x.useRef(0),i=pt(Js).current,d=pt(Qs).current,[l,h]=x.useState(0),p=x.useRef(l),f=Pe((C,R)=>{d.set(C,R??null),p.current+=1,h(p.current)}),u=Pe(C=>{d.delete(C),p.current+=1,h(p.current)}),S=x.useMemo(()=>{const C=new Map;return Array.from(d.keys()).filter(_=>_.isConnected).sort(Zs).forEach((_,F)=>{const w=d.get(_)??{};C.set(_,{...w,index:F})}),C},[d,l]);Ce(()=>{if(typeof MutationObserver!="function"||S.size===0)return;const C=new MutationObserver(R=>{const _=new Set,F=w=>_.has(w)?_.delete(w):_.add(w);R.forEach(w=>{w.removedNodes.forEach(F),w.addedNodes.forEach(F)}),_.size===0&&(p.current+=1,h(p.current))});return S.forEach((R,_)=>{_.parentElement&&C.observe(_.parentElement,{childList:!0})}),()=>{C.disconnect()}},[S]),Ce(()=>{p.current===l&&(t.current.length!==S.size&&(t.current.length=S.size),n&&n.current.length!==S.size&&(n.current.length=S.size),a.current=S.size),s(S)},[s,S,t,n,l]),Ce(()=>()=>{t.current=[]},[t]),Ce(()=>()=>{n&&(n.current=[])},[n]);const m=Pe(C=>(i.add(C),()=>{i.delete(C)}));Ce(()=>{i.forEach(C=>C(S))},[i,S]);const M=x.useMemo(()=>({register:f,unregister:u,subscribeMapChange:m,elementsRef:t,labelsRef:n,nextIndexRef:a}),[f,u,m,t,n,a]);return v.jsx(Gn.Provider,{value:M,children:r})}function Qs(){return new Map}function Js(){return new Set}function Zs(e,r){const t=e.compareDocumentPosition(r);return t&Node.DOCUMENT_POSITION_FOLLOWING||t&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:t&Node.DOCUMENT_POSITION_PRECEDING||t&Node.DOCUMENT_POSITION_CONTAINS?1:0}const ei=x.forwardRef(function(r,t){const{anchor:n,positionMethod:o="absolute",className:s,render:a,side:i,align:d,sideOffset:l=0,alignOffset:h=0,collisionBoundary:p="clipping-ancestors",collisionPadding:f=5,arrowPadding:u=5,sticky:S=!1,disableAnchorTracking:m=!1,collisionAvoidance:M=Rr,...C}=r,{store:R}=ze(),_=Ws(),F=St(!0),w=R.useState("parent"),N=R.useState("floatingRootContext"),O=R.useState("floatingTreeRoot"),c=R.useState("mounted"),g=R.useState("open"),y=R.useState("modal"),E=R.useState("activeTriggerElement"),P=R.useState("lastOpenChangeReason"),T=R.useState("floatingNodeId"),J=R.useState("floatingParentNodeId");let ue=n,Q=l,A=h,ne=d,$=M;w.type==="context-menu"&&(ue=n??w.context?.anchor,ne=ne??"start",!i&&ne!=="center"&&(A=r.alignOffset??2,Q=r.sideOffset??-5));let k=i,L=ne;w.type==="menu"?(k=k??"inline-end",L=L??"start",$=r.collisionAvoidance??wr):w.type==="menubar"&&(k=k??"bottom",L=L??"start");const z=w.type==="context-menu",I=Qr({anchor:ue,floatingRootContext:N,positionMethod:F?"fixed":o,mounted:c,side:k,sideOffset:Q,align:L,alignOffset:A,arrowPadding:z?0:u,collisionBoundary:p,collisionPadding:f,sticky:S,nodeId:T,keepMounted:_,disableAnchorTracking:m,collisionAvoidance:$,shiftCrossAxis:z,externalTree:O}),ae=x.useMemo(()=>{const q={};return g||(q.pointerEvents="none"),{role:"presentation",hidden:!c,style:{...I.positionerStyles,...q}}},[g,c,I.positionerStyles]);x.useEffect(()=>{function q(b){b.open?(b.parentNodeId===T&&R.set("hoverEnabled",!1),b.nodeId!==T&&b.parentNodeId===R.select("floatingParentNodeId")&&R.setOpen(!1,Fe(Ke))):b.parentNodeId===T&&b.reason!==Ke&&R.set("hoverEnabled",!0)}return O.events.on("menuopenchange",q),()=>{O.events.off("menuopenchange",q)}},[R,O.events,T]),x.useEffect(()=>{if(R.select("floatingParentNodeId")==null)return;function q(b){if(b.open||b.nodeId!==R.select("floatingParentNodeId"))return;const re=b.reason??Ke;R.setOpen(!1,Fe(re))}return O.events.on("menuopenchange",q),()=>{O.events.off("menuopenchange",q)}},[O.events,R]),x.useEffect(()=>{function q(b){!g||b.nodeId!==R.select("floatingParentNodeId")||b.target&&E&&E!==b.target&&R.setOpen(!1,Fe(Ke))}return O.events.on("itemhover",q),()=>{O.events.off("itemhover",q)}},[O.events,g,E,R]),x.useEffect(()=>{const q={open:g,nodeId:T,parentNodeId:J,reason:R.select("lastOpenChangeReason")};O.events.emit("menuopenchange",q)},[O.events,g,R,T,J]);const ie=x.useMemo(()=>({open:g,side:I.side,align:I.align,anchorHidden:I.anchorHidden,nested:w.type==="menu"}),[g,I.side,I.align,I.anchorHidden,w.type]),de=x.useMemo(()=>({side:I.side,align:I.align,arrowRef:I.arrowRef,arrowUncentered:I.arrowUncentered,arrowStyles:I.arrowStyles,nodeId:I.context.nodeId}),[I.side,I.align,I.arrowRef,I.arrowUncentered,I.arrowStyles,I.context.nodeId]),le=et("div",r,{state:ie,stateAttributesMapping:In,ref:[t,R.useStateSetter("positionerElement")],props:[ae,C]}),H=c&&w.type!=="menu"&&(w.type!=="menubar"&&y&&P!==We||w.type==="menubar"&&w.context.modal);let U=null;return w.type==="menubar"?U=w.context.contentElement:w.type===void 0&&(U=E),v.jsxs(Nn.Provider,{value:de,children:[H&&v.jsx(Sr,{ref:w.type==="context-menu"||w.type==="nested-context-menu"?w.context.internalBackdropRef:null,inert:xr(!g),cutout:U}),v.jsx(yr,{id:T,children:v.jsx(Ys,{elementsRef:R.context.itemDomElements,labelsRef:R.context.itemLabels,children:le})})]})}),ti=x.createContext(null);function qn(e){return x.useContext(ti)}const ni={...Ir,disabled:ve(e=>e.parent.type==="menubar"&&e.parent.context.disabled||e.disabled),modal:ve(e=>(e.parent.type===void 0||e.parent.type==="context-menu")&&(e.modal??!0)),allowMouseEnter:ve(e=>e.parent.type==="menu"?e.parent.store.select("allowMouseEnter"):e.allowMouseEnter),stickIfOpen:ve(e=>e.stickIfOpen),parent:ve(e=>e.parent),rootId:ve(e=>e.parent.type==="menu"?e.parent.store.select("rootId"):e.parent.type!==void 0?e.parent.context.rootId:e.rootId),activeIndex:ve(e=>e.activeIndex),isActive:ve((e,r)=>e.activeIndex===r),hoverEnabled:ve(e=>e.hoverEnabled),instantType:ve(e=>e.instantType),lastOpenChangeReason:ve(e=>e.openChangeReason),floatingTreeRoot:ve(e=>e.parent.type==="menu"?e.parent.store.select("floatingTreeRoot"):e.floatingTreeRoot),floatingNodeId:ve(e=>e.floatingNodeId),floatingParentNodeId:ve(e=>e.floatingParentNodeId),itemProps:ve(e=>e.itemProps),closeDelay:ve(e=>e.closeDelay),keyboardEventRelay:ve(e=>{if(e.keyboardEventRelay)return e.keyboardEventRelay;if(e.parent.type==="menu")return e.parent.store.select("keyboardEventRelay")})};class Jt extends _r{constructor(r){super({...ri(),...r},{positionerRef:x.createRef(),popupRef:x.createRef(),typingRef:{current:!1},itemDomElements:{current:[]},itemLabels:{current:[]},allowMouseUpTriggerRef:{current:!1},triggerFocusTargetRef:x.createRef(),beforeContentFocusGuardRef:x.createRef(),onOpenChangeComplete:void 0,triggerElements:new Mr},ni),this.observe(ve(t=>t.allowMouseEnter),(t,n)=>{this.state.parent.type==="menu"&&t!==n&&this.state.parent.store.set("allowMouseEnter",t)}),this.unsubscribeParentListener=this.observe("parent",t=>{if(this.unsubscribeParentListener?.(),t.type==="menu"){this.unsubscribeParentListener=t.store.subscribe(()=>{this.notifyAll()}),this.context.allowMouseUpTriggerRef=t.store.context.allowMouseUpTriggerRef;return}t.type!==void 0&&(this.context.allowMouseUpTriggerRef=t.context.allowMouseUpTriggerRef),this.unsubscribeParentListener=null})}setOpen(r,t){this.state.floatingRootContext.context.events.emit("setOpen",{open:r,eventDetails:t})}static useStore(r,t){return pt(()=>r??new Jt(t)).current}unsubscribeParentListener=null}function ri(){return{...Er(),disabled:!1,modal:!0,allowMouseEnter:!0,stickIfOpen:!0,parent:{type:void 0},rootId:void 0,activeIndex:null,hoverEnabled:!0,instantType:void 0,openChangeReason:null,floatingTreeRoot:new En,floatingNodeId:void 0,floatingParentNodeId:null,itemProps:Ct,keyboardEventRelay:void 0,closeDelay:0}}const oi=x.createContext(void 0);function si(){return x.useContext(oi)}function ii(e){const{children:r,open:t,onOpenChange:n,onOpenChangeComplete:o,defaultOpen:s=!1,disabled:a=!1,modal:i,loopFocus:d=!0,orientation:l="vertical",actionsRef:h,closeParentOnEsc:p=!1,handle:f,triggerId:u,defaultTriggerId:S=null,highlightItemOnHover:m=!0}=e,M=St(!0),C=ze(!0),R=qn(),_=si(),F=x.useMemo(()=>_&&C?{type:"menu",store:C.store}:R?{type:"menubar",context:R}:M&&!C?{type:"context-menu",context:M}:{type:void 0},[M,C,R,_]),w=Jt.useStore(f?.store,{parent:F}),N=w.useState("floatingTreeRoot"),O=Pn(N),c=Ht();Ce(()=>{M&&!C?w.update({parent:{type:"context-menu",context:M},floatingNodeId:O,floatingParentNodeId:c}):C&&w.update({floatingNodeId:O,floatingParentNodeId:c})},[M,C,O,c,w]),w.useControlledProp("open",t,s),w.useControlledProp("activeTriggerId",u,S),w.useContextCallback("onOpenChangeComplete",o);const g=w.useState("open"),y=w.useState("activeTriggerElement"),E=w.useState("positionerElement"),P=w.useState("hoverEnabled"),T=w.useState("modal"),J=w.useState("disabled"),ue=w.useState("lastOpenChangeReason"),Q=w.useState("parent"),A=w.useState("activeIndex"),ne=w.useState("payload"),$=w.useState("floatingParentNodeId"),k=x.useRef(null),L=$!=null;let z;w.useSyncedValues({disabled:a,modal:Q.type===void 0?i:void 0,rootId:Pr()});const{openMethod:I,triggerProps:ae,reset:ie}=Fr(g);br(w);const{forceUnmount:de}=Or(g,w,()=>{w.update({allowMouseEnter:!1,stickIfOpen:!0}),ie()}),le=x.useRef(Q.type!=="context-menu"),H=Ge();x.useEffect(()=>{if(g||(k.current=null),Q.type==="context-menu"){if(!g){H.clear(),le.current=!1;return}H.start(500,()=>{le.current=!0})}},[H,g,Q.type]),kr(g&&T&&ue!==We&&I!=="touch",E),Ce(()=>{!g&&!P&&w.set("hoverEnabled",!0)},[g,P,w]);const U=x.useRef(!0),q=Ge(),b=Pe((ee,fe)=>{const Me=fe.reason;if(g===ee&&fe.trigger===y||(fe.preventUnmountOnClose=()=>{w.set("preventUnmountingOnClose",!0)},!ee&&fe.trigger==null&&(fe.trigger=y??void 0),n?.(ee,fe),fe.isCanceled))return;const Wn={open:ee,nativeEvent:fe.event,reason:fe.reason,nested:L};z?.emit("openchange",Wn);const nt=fe.event;if(ee===!1&&nt?.type==="click"&&nt.pointerType==="touch"&&!U.current)return;if(!ee&&A!==null){const Ue=w.context.itemDomElements.current[A];queueMicrotask(()=>{Ue?.setAttribute("tabindex","-1")})}ee&&Me===mt?(U.current=!1,q.start(300,()=>{U.current=!0})):(U.current=!0,q.clear());const en=(Me===Sn||Me===_n)&&nt.detail===0&&nt?.isTrusted,Xn=!ee&&(Me===xn||Me==null);function tn(){const Ue={open:ee,openChangeReason:Me};k.current=fe.event??null;const nn=fe.trigger?.id??null;(nn||ee)&&(Ue.activeTriggerId=nn,Ue.activeTriggerElement=fe.trigger??null),w.update(Ue)}Me===We?Dt.flushSync(tn):tn(),Q.type==="menubar"&&(Me===mt||Me===vt||Me===We||Me===ct||Me===Ke)?w.set("instantType","group"):en||Xn?w.set("instantType",en?"click":"dismiss"):w.set("instantType",void 0)}),re=x.useCallback(ee=>{const fe=Fe(ee);return fe.preventUnmountOnClose=()=>{w.set("preventUnmountingOnClose",!0)},fe},[w]),ce=x.useCallback(()=>{w.setOpen(!1,re(Dr))},[w,re]);x.useImperativeHandle(h,()=>({unmount:de,close:ce}),[de,ce]);let te;Q.type==="context-menu"&&(te=Q.context),x.useImperativeHandle(te?.positionerRef,()=>E,[E]),x.useImperativeHandle(te?.actionsRef,()=>({setOpen:b}),[b]);const Z=Tr({popupStore:w,onOpenChange:b});z=Z.context.events,x.useEffect(()=>{const ee=({open:fe,eventDetails:Me})=>b(fe,Me);return z.on("setOpen",ee),()=>{z?.off("setOpen",ee)}},[z,b]);const W=$r(Z,{enabled:!J,bubbles:p&&Q.type==="menu",outsidePress(){return Q.type!=="context-menu"||k.current?.type==="contextmenu"?!0:le.current},externalTree:L?N:void 0}),oe=Ar(Z,{role:"menu"}),V=Jr(),X=x.useCallback(ee=>{w.select("activeIndex")!==ee&&w.set("activeIndex",ee)},[w]),Se=jo(Z,{enabled:!J,listRef:w.context.itemDomElements,activeIndex:A,nested:Q.type!==void 0,loopFocus:d,orientation:l,parentOrientation:Q.type==="menubar"?Q.context.orientation:void 0,rtl:V==="rtl",disabledIndices:ft,onNavigate:X,openOnArrowKeyDown:Q.type!=="context-menu",externalTree:L?N:void 0,focusItemOnHover:m}),Ie=x.useCallback(ee=>{w.context.typingRef.current=ee},[w]),xe=Lo(Z,{listRef:w.context.itemLabels,activeIndex:A,resetMs:Lr,onMatch:ee=>{g&&ee!==A&&w.set("activeIndex",ee)},onTypingChange:Ie}),{getReferenceProps:j,getFloatingProps:K,getItemProps:D,getTriggerProps:Y}=Fn([W,oe,Se,xe]),se=x.useMemo(()=>{const ee=Tt(j(),{onMouseEnter(){w.set("hoverEnabled",!0)},onMouseMove(){w.set("allowMouseEnter",!0)}},ae);return delete ee.role,ee},[j,w,ae]),ge=x.useMemo(()=>{const ee=Y();if(!ee)return ee;const fe=Tt(ee,ae);return delete fe.role,delete fe["aria-controls"],fe},[Y,ae]),Oe=Vr(),$e=x.useMemo(()=>K({onMouseEnter(){Q.type==="menu"&&Oe.request(()=>w.set("hoverEnabled",!1))},onMouseMove(){w.set("allowMouseEnter",!0)},onClick(){w.select("hoverEnabled")&&w.set("hoverEnabled",!1)},onKeyDown(ee){const fe=w.select("keyboardEventRelay");fe&&!ee.isPropagationStopped()&&fe(ee)}}),[K,Q.type,Oe,w]),Ee=x.useMemo(()=>D(),[D]);w.useSyncedValues({floatingRootContext:Z,activeTriggerProps:se,inactiveTriggerProps:ge,popupProps:$e,itemProps:Ee});const he=x.useMemo(()=>({store:w,parent:F}),[w,F]),_e=v.jsx(Hn.Provider,{value:he,children:typeof r=="function"?r({payload:ne}):r});return Q.type===void 0||Q.type==="context-menu"?v.jsx(jr,{externalTree:N,children:_e}):_e}function ai(e){const r=e.getBoundingClientRect(),t=window.getComputedStyle(e,"::before"),n=window.getComputedStyle(e,"::after");if(!(t.content!=="none"||n.content!=="none"))return r;const s=parseFloat(t.width)||0,a=parseFloat(t.height)||0,i=parseFloat(n.width)||0,d=parseFloat(n.height)||0,l=Math.max(r.width,s,i),h=Math.max(r.height,a,d),p=l-r.width,f=h-r.height;return{left:r.left-p/2,right:r.right+p/2,top:r.top-f/2,bottom:r.bottom+f/2}}function li(e={}){const{highlightItemOnHover:r,highlightedIndex:t,onHighlightedIndexChange:n}=Cn(),{ref:o,index:s}=Bn(e),a=t===s,i=x.useRef(null),d=vn(o,i);return{compositeProps:x.useMemo(()=>({tabIndex:a?0:-1,onFocus(){n(s)},onMouseMove(){const h=i.current;if(!r||!h)return;const p=h.hasAttribute("disabled")||h.ariaDisabled==="true";!a&&!p&&h.focus()}}),[a,n,s,r]),compositeRef:d,index:s}}function ui(e){const{render:r,className:t,state:n=Ct,props:o=ft,refs:s=ft,metadata:a,stateAttributesMapping:i,tag:d="div",...l}=e,{compositeProps:h,compositeRef:p}=li({metadata:a});return et(d,e,{state:n,ref:[...s,p],props:[h,...o,l],stateAttributesMapping:i})}function Kn(e){if(gt(e)&&e.hasAttribute("data-rootownerid"))return e.getAttribute("data-rootownerid")??void 0;if(!tr(e))return Kn(nr(e))}function ci(e){const{enabled:r=!0,mouseDownAction:t,open:n}=e,o=x.useRef(!1);return x.useMemo(()=>r?{onMouseDown:s=>{(t==="open"&&!n||t==="close"&&n)&&(o.current=!0,$t(s.currentTarget).addEventListener("click",()=>{o.current=!1},{once:!0}))},onClick:s=>{o.current&&(o.current=!1,s.preventBaseUIHandler())}}:Ct,[r,t,n])}const lt=2,di=x.forwardRef(function(r,t){const{render:n,className:o,disabled:s=!1,nativeButton:a=!0,id:i,openOnHover:d,delay:l=100,closeDelay:h=0,handle:p,payload:f,...u}=r,S=ze(!0),m=p?.store??S?.store;if(!m)throw new Error(Ze(85));const M=Mn(i),C=m.useState("isTriggerActive",M),R=m.useState("floatingRootContext"),_=m.useState("isOpenedByTrigger",M),F=x.useRef(null),w=fi(),N=Cn(!0),O=yn(),c=x.useMemo(()=>O??new En,[O]),g=Pn(c),y=Ht(),{registerTrigger:E,isMountedByThisTrigger:P}=Nr(M,F,m,{payload:f,closeDelay:h,parent:w,floatingTreeRoot:c,floatingNodeId:g,floatingParentNodeId:y,keyboardEventRelay:N?.relayKeyboardEvent}),T=m.useState("disabled"),J=s||T||w.type==="menubar"&&w.context.disabled,{getButtonProps:ue,buttonRef:Q}=mn({disabled:J,native:a});x.useEffect(()=>{!_&&w.type===void 0&&(m.context.allowMouseUpTriggerRef.current=!1)},[m,_,w.type]);const A=x.useRef(null),ne=Ge(),$=Pe(oe=>{if(!A.current)return;ne.clear(),m.context.allowMouseUpTriggerRef.current=!1;const V=oe.target;if(Ne(A.current,V)||Ne(m.select("positionerElement"),V)||V===A.current||V!=null&&Kn(V)===m.select("rootId"))return;const X=ai(A.current);oe.clientX>=X.left-lt&&oe.clientX<=X.right+lt&&oe.clientY>=X.top-lt&&oe.clientY<=X.bottom+lt||c.events.emit("close",{domEvent:oe,reason:zr})});x.useEffect(()=>{_&&m.select("lastOpenChangeReason")===We&&$t(A.current).addEventListener("mouseup",$,{once:!0})},[_,$,m]);const k=w.type==="menubar"&&w.context.hasSubmenuOpen,z=Zr(R,{enabled:(d??k??!1)&&!J&&w.type!=="context-menu"&&(w.type!=="menubar"||k&&!P),handleClose:eo({blockPointerEvents:w.type!=="menubar"}),mouseOnly:!0,move:!1,restMs:w.type===void 0?l:void 0,delay:{close:h},triggerElementRef:F,externalTree:c,isActiveTrigger:C}),I=gi(_,m.select("lastOpenChangeReason")),ae=Hr(R,{enabled:!J&&w.type!=="context-menu",event:_&&w.type==="menubar"?"click":"mousedown",toggle:!0,ignoreMouse:!1,stickIfOpen:w.type===void 0?I:!1}),ie=To(R,{enabled:!J&&(w.type!=="menubar"&&_||k)}),de=ci({open:_,enabled:w.type==="menubar",mouseDownAction:"open"}),le=Fn([ae,ie]),H=w.type==="menubar",U=x.useMemo(()=>({disabled:J,open:_}),[J,_]),q=m.useState("triggerProps",P),b=[A,t,Q,E,F],re=[le.getReferenceProps(),z??Ct,q,{"aria-haspopup":"menu",id:M,onMouseDown:oe=>{if(m.select("open"))return;ne.start(200,()=>{m.context.allowMouseUpTriggerRef.current=!0}),$t(oe.currentTarget).addEventListener("mouseup",$,{once:!0})}},H?{role:"menuitem"}:{},de,u,ue],ce=x.useRef(null),te=Pe(oe=>{Dt.flushSync(()=>{m.setOpen(!1,Fe(vt,oe.nativeEvent,oe.currentTarget))}),Gr(ce.current)?.focus()}),Z=Pe(oe=>{const V=m.select("positionerElement");if(V&&Br(oe,V))m.context.beforeContentFocusGuardRef.current?.focus();else{Dt.flushSync(()=>{m.setOpen(!1,Fe(vt,oe.nativeEvent,oe.currentTarget))});let X=Ur(F.current);for(;X!==null&&Ne(V,X)||X?.hasAttribute("aria-hidden");){const Se=X;if(X=qr(X),X===Se)break}X?.focus()}}),W=et("button",r,{enabled:!H,stateAttributesMapping:on,state:U,ref:b,props:re});return H?v.jsx(ui,{tag:"button",render:n,className:o,state:U,refs:b,props:re,stateAttributesMapping:on}):_?v.jsxs(x.Fragment,{children:[v.jsx(sn,{ref:ce,onFocus:te},`${M}-pre-focus-guard`),v.jsx(x.Fragment,{children:W},M),v.jsx(sn,{ref:m.context.triggerFocusTargetRef,onFocus:Z},`${M}-post-focus-guard`)]}):v.jsx(x.Fragment,{children:W},M)});function gi(e,r){const t=Ge(),[n,o]=x.useState(!1);return Ce(()=>{e&&r==="trigger-hover"?(o(!0),t.start(Kr,()=>{o(!1)})):e||(t.clear(),o(!1))},[e,r,t]),n}function fi(){const e=St(!0),r=ze(!0),t=qn();return x.useMemo(()=>t?{type:"menubar",context:t}:e&&!r?{type:"context-menu",context:e}:{type:void 0},[e,r,t])}function pi({...e}){return v.jsx(ii,{"data-slot":"dropdown-menu",...e})}function hi({...e}){return v.jsx(di,{"data-slot":"dropdown-menu-trigger",...e})}function mi({align:e="start",alignOffset:r=0,side:t="bottom",sideOffset:n=4,className:o,...s}){return v.jsx(Xs,{children:v.jsx(ei,{className:"isolate z-50 outline-none",align:e,alignOffset:r,side:t,sideOffset:n,children:v.jsx(Ks,{"data-slot":"dropdown-menu-content",className:pe("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 ring-foreground/10 bg-popover text-popover-foreground min-w-32 rounded-lg p-1 shadow-md ring-1 duration-100 z-50 max-h-(--available-height) w-(--anchor-width) origin-(--transform-origin) overflow-x-hidden overflow-y-auto outline-none data-closed:overflow-hidden",o),...s})})})}function fn({className:e,inset:r,variant:t="default",...n}){return v.jsx(Us,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":t,className:pe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:text-destructive not-data-[variant=destructive]:focus:**:text-accent-foreground gap-1.5 rounded-md px-1.5 py-1 text-sm [&_svg:not([class*='size-'])]:size-4 group/dropdown-menu-item relative flex cursor-default items-center outline-hidden select-none data-disabled:pointer-events-none data-disabled:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...n})}function vi(e){const{children:r,open:t,defaultOpen:n=!1,onOpenChange:o,onOpenChangeComplete:s,actionsRef:a,handle:i,triggerId:d,defaultTriggerId:l=null}=e,h=no(),p=!!h,f=pt(()=>i?.store??new ro({open:t??n,activeTriggerId:d!==void 0?d:l,modal:!0,disablePointerDismissal:!0,nested:p,role:"alertdialog"})).current;f.useControlledProp("open",t,n),f.useControlledProp("activeTriggerId",d,l),f.useSyncedValue("nested",p),f.useContextCallback("onOpenChange",o),f.useContextCallback("onOpenChangeComplete",s);const u=f.useState("payload");oo({store:f,actionsRef:a,parentContext:h?.store.context});const S=x.useMemo(()=>({store:f}),[f]);return v.jsx(so.Provider,{value:S,children:typeof r=="function"?r({payload:u}):r})}function Ci({...e}){return v.jsx(vi,{"data-slot":"alert-dialog",...e})}function Ri({...e}){return v.jsx(co,{"data-slot":"alert-dialog-portal",...e})}function wi({className:e,...r}){return v.jsx(go,{"data-slot":"alert-dialog-overlay",className:pe("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 bg-black/10 duration-100 supports-backdrop-filter:backdrop-blur-xs fixed inset-0 isolate z-50",e),...r})}function Si({className:e,size:r="default",...t}){return v.jsxs(Ri,{children:[v.jsx(wi,{}),v.jsx(io,{"data-slot":"alert-dialog-content","data-size":r,className:pe("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 bg-background ring-foreground/10 gap-4 rounded-xl p-4 ring-1 duration-100 data-[size=default]:max-w-xs data-[size=sm]:max-w-xs data-[size=default]:sm:max-w-sm group/alert-dialog-content fixed top-1/2 left-1/2 z-50 grid w-full -translate-x-1/2 -translate-y-1/2 outline-none",e),...t})]})}function xi({className:e,...r}){return v.jsx("div",{"data-slot":"alert-dialog-header",className:pe("grid grid-rows-[auto_1fr] place-items-center gap-1.5 text-center has-data-[slot=alert-dialog-media]:grid-rows-[auto_auto_1fr] has-data-[slot=alert-dialog-media]:gap-x-4 sm:group-data-[size=default]/alert-dialog-content:place-items-start sm:group-data-[size=default]/alert-dialog-content:text-left sm:group-data-[size=default]/alert-dialog-content:has-data-[slot=alert-dialog-media]:grid-rows-[auto_1fr]",e),...r})}function yi({className:e,...r}){return v.jsx("div",{"data-slot":"alert-dialog-footer",className:pe("bg-muted/50 -mx-4 -mb-4 rounded-b-xl border-t p-4 flex flex-col-reverse gap-2 group-data-[size=sm]/alert-dialog-content:grid group-data-[size=sm]/alert-dialog-content:grid-cols-2 sm:flex-row sm:justify-end",e),...r})}function _i({className:e,...r}){return v.jsx(ao,{"data-slot":"alert-dialog-title",className:pe("text-sm font-medium sm:group-data-[size=default]/alert-dialog-content:group-has-data-[slot=alert-dialog-media]/alert-dialog-content:col-start-2",e),...r})}function Mi({className:e,...r}){return v.jsx(lo,{"data-slot":"alert-dialog-description",className:pe("text-muted-foreground *:[a]:hover:text-foreground text-sm text-balance md:text-pretty *:[a]:underline *:[a]:underline-offset-3",e),...r})}function Ii({className:e,...r}){return v.jsx(Te,{"data-slot":"alert-dialog-action",className:pe(e),...r})}function Ei({className:e,variant:r="outline",size:t="default",...n}){return v.jsx(uo,{"data-slot":"alert-dialog-cancel",className:pe(e),render:v.jsx(Te,{variant:r,size:t}),...n})}function Pi({className:e,...r}){return v.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:pe("mx-auto flex w-full justify-center",e),...r})}function Fi({className:e,...r}){return v.jsx("ul",{"data-slot":"pagination-content",className:pe("gap-0.5 flex items-center",e),...r})}function ut({...e}){return v.jsx("li",{"data-slot":"pagination-item",...e})}function Zt({className:e,isActive:r,size:t="icon",...n}){return v.jsx(Te,{variant:r?"outline":"ghost",size:t,className:pe(e),nativeButton:!1,render:v.jsx("a",{"aria-current":r?"page":void 0,"data-slot":"pagination-link","data-active":r,...n})})}function bi({className:e,...r}){return v.jsxs(Zt,{"aria-label":"Go to previous page",size:"default",className:pe("pl-1.5!",e),...r,children:[v.jsx(Ro,{"data-icon":"inline-start"}),v.jsx("span",{className:"hidden sm:block",children:"Previous"})]})}function Oi({className:e,...r}){return v.jsxs(Zt,{"aria-label":"Go to next page",size:"default",className:pe("pr-1.5!",e),...r,children:[v.jsx("span",{className:"hidden sm:block",children:"Next"}),v.jsx(So,{"data-icon":"inline-end"})]})}function ki({className:e,...r}){return v.jsxs("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:pe("size-8 items-center justify-center [&_svg:not([class*='size-'])]:size-4 flex items-center justify-center",e),...r,children:[v.jsx(Mo,{}),v.jsx("span",{className:"sr-only",children:"More pages"})]})}var dt={exports:{}};var Di=dt.exports,pn;function Ti(){return pn||(pn=1,(function(e,r){((t,n)=>{e.exports=n()})(Di,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},o,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,i={},d=0,l={};function h(c){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(g){var y=w(g);y.chunkSize=parseInt(y.chunkSize),g.step||g.chunk||(y.chunkSize=null),this._handle=new m(y),(this._handle.streamer=this)._config=y}).call(this,c),this.parseChunk=function(g,y){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let T=this._config.newline;T||(P=this._config.quoteChar||'"',T=this._handle.guessLineEndings(g,P)),g=[...g.split(T).slice(E)].join(T)}this.isFirstChunk&&O(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(g))!==void 0&&(g=P),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+g,P=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(g=P.meta.cursor,E=(this._finished||(this._partialLine=E.substring(g-this._baseIndex),this._baseIndex=g),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)n.postMessage({results:P,workerId:l.WORKER_ID,finished:E});else if(O(this._config.chunk)&&!y){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!E||!O(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(g){O(this._config.error)?this._config.error(g):a&&this._config.error&&n.postMessage({workerId:l.WORKER_ID,error:g,finished:!1})}}function p(c){var g;(c=c||{}).chunkSize||(c.chunkSize=l.RemoteChunkSize),h.call(this,c),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(y){this._input=y,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(g=new XMLHttpRequest,this._config.withCredentials&&(g.withCredentials=this._config.withCredentials),s||(g.onload=N(this._chunkLoaded,this),g.onerror=N(this._chunkError,this)),g.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var y,E=this._config.downloadRequestHeaders;for(y in E)g.setRequestHeader(y,E[y])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,g.setRequestHeader("Range","bytes="+this._start+"-"+P));try{g.send(this._config.downloadRequestBody)}catch(T){this._chunkError(T.message)}s&&g.status===0&&this._chunkError()}},this._chunkLoaded=function(){g.readyState===4&&(g.status<200||400<=g.status?this._chunkError():(this._start+=this._config.chunkSize||g.responseText.length,this._finished=!this._config.chunkSize||this._start>=(y=>(y=y.getResponseHeader("Content-Range"))!==null?parseInt(y.substring(y.lastIndexOf("/")+1)):-1)(g),this.parseChunk(g.responseText)))},this._chunkError=function(y){y=g.statusText||y,this._sendError(new Error(y))}}function f(c){(c=c||{}).chunkSize||(c.chunkSize=l.LocalChunkSize),h.call(this,c);var g,y,E=typeof FileReader<"u";this.stream=function(P){this._input=P,y=P.slice||P.webkitSlice||P.mozSlice,E?((g=new FileReader).onload=N(this._chunkLoaded,this),g.onerror=N(this._chunkError,this)):g=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,T=(this._config.chunkSize&&(T=Math.min(this._start+this._config.chunkSize,this._input.size),P=y.call(P,this._start,T)),g.readAsText(P,this._config.encoding));E||this._chunkLoaded({target:{result:T}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(g.error)}}function u(c){var g;h.call(this,c=c||{}),this.stream=function(y){return g=y,this._nextChunk()},this._nextChunk=function(){var y,E;if(!this._finished)return y=this._config.chunkSize,g=y?(E=g.substring(0,y),g.substring(y)):(E=g,""),this._finished=!g,this.parseChunk(E)}}function S(c){h.call(this,c=c||{});var g=[],y=!0,E=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&g.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),g.length?this.parseChunk(g.shift()):y=!0},this._streamData=N(function(P){try{g.push(typeof P=="string"?P:P.toString(this._config.encoding)),y&&(y=!1,this._checkIsFinished(),this.parseChunk(g.shift()))}catch(T){this._streamError(T)}},this),this._streamError=N(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=N(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(c){var g,y,E,P,T=Math.pow(2,53),J=-T,ue=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,A=this,ne=0,$=0,k=!1,L=!1,z=[],I={data:[],errors:[],meta:{}};function ae(H){return c.skipEmptyLines==="greedy"?H.join("").trim()==="":H.length===1&&H[0].length===0}function ie(){if(I&&E&&(le("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),E=!1),c.skipEmptyLines&&(I.data=I.data.filter(function(b){return!ae(b)})),de()){let b=function(re,ce){O(c.transformHeader)&&(re=c.transformHeader(re,ce)),z.push(re)};if(I)if(Array.isArray(I.data[0])){for(var H=0;de()&&H<I.data.length;H++)I.data[H].forEach(b);I.data.splice(0,1)}else I.data.forEach(b)}function U(b,re){for(var ce=c.header?{}:[],te=0;te<b.length;te++){var Z=te,W=b[te],W=((oe,V)=>(X=>(c.dynamicTypingFunction&&c.dynamicTyping[X]===void 0&&(c.dynamicTyping[X]=c.dynamicTypingFunction(X)),(c.dynamicTyping[X]||c.dynamicTyping)===!0))(oe)?V==="true"||V==="TRUE"||V!=="false"&&V!=="FALSE"&&((X=>{if(ue.test(X)&&(X=parseFloat(X),J<X&&X<T))return 1})(V)?parseFloat(V):Q.test(V)?new Date(V):V===""?null:V):V)(Z=c.header?te>=z.length?"__parsed_extra":z[te]:Z,W=c.transform?c.transform(W,Z):W);Z==="__parsed_extra"?(ce[Z]=ce[Z]||[],ce[Z].push(W)):ce[Z]=W}return c.header&&(te>z.length?le("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+te,$+re):te<z.length&&le("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+te,$+re)),ce}var q;I&&(c.header||c.dynamicTyping||c.transform)&&(q=1,!I.data.length||Array.isArray(I.data[0])?(I.data=I.data.map(U),q=I.data.length):I.data=U(I.data,0),c.header&&I.meta&&(I.meta.fields=z),$+=q)}function de(){return c.header&&z.length===0}function le(H,U,q,b){H={type:H,code:U,message:q},b!==void 0&&(H.row=b),I.errors.push(H)}O(c.step)&&(P=c.step,c.step=function(H){I=H,de()?ie():(ie(),I.data.length!==0&&(ne+=H.data.length,c.preview&&ne>c.preview?y.abort():(I.data=I.data[0],P(I,A))))}),this.parse=function(H,U,q){var b=c.quoteChar||'"',b=(c.newline||(c.newline=this.guessLineEndings(H,b)),E=!1,c.delimiter?O(c.delimiter)&&(c.delimiter=c.delimiter(H),I.meta.delimiter=c.delimiter):((b=((re,ce,te,Z,W)=>{var oe,V,X,Se;W=W||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var Ie=0;Ie<W.length;Ie++){for(var xe,j=W[Ie],K=0,D=0,Y=0,se=(X=void 0,new C({comments:Z,delimiter:j,newline:ce,preview:10}).parse(re)),ge=0;ge<se.data.length;ge++)te&&ae(se.data[ge])?Y++:(xe=se.data[ge].length,D+=xe,X===void 0?X=xe:0<xe&&(K+=Math.abs(xe-X),X=xe));0<se.data.length&&(D/=se.data.length-Y),(V===void 0||K<=V)&&(Se===void 0||Se<D)&&1.99<D&&(V=K,oe=j,Se=D)}return{successful:!!(c.delimiter=oe),bestDelimiter:oe}})(H,c.newline,c.skipEmptyLines,c.comments,c.delimitersToGuess)).successful?c.delimiter=b.bestDelimiter:(E=!0,c.delimiter=l.DefaultDelimiter),I.meta.delimiter=c.delimiter),w(c));return c.preview&&c.header&&b.preview++,g=H,y=new C(b),I=y.parse(g,U,q),ie(),k?{meta:{paused:!0}}:I||{meta:{paused:!1}}},this.paused=function(){return k},this.pause=function(){k=!0,y.abort(),g=O(c.chunk)?"":g.substring(y.getCharIndex())},this.resume=function(){A.streamer._halted?(k=!1,A.streamer.parseChunk(g,!0)):setTimeout(A.resume,3)},this.aborted=function(){return L},this.abort=function(){L=!0,y.abort(),I.meta.aborted=!0,O(c.complete)&&c.complete(I),g=""},this.guessLineEndings=function(re,b){re=re.substring(0,1048576);var b=new RegExp(M(b)+"([^]*?)"+M(b),"gm"),q=(re=re.replace(b,"")).split("\r"),b=re.split(`
`),re=1<b.length&&b[0].length<q[0].length;if(q.length===1||re)return`
`;for(var ce=0,te=0;te<q.length;te++)q[te][0]===`
`&&ce++;return ce>=q.length/2?`\r
`:"\r"}}function M(c){return c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function C(c){var g=(c=c||{}).delimiter,y=c.newline,E=c.comments,P=c.step,T=c.preview,J=c.fastMode,ue=null,Q=!1,A=c.quoteChar==null?'"':c.quoteChar,ne=A;if(c.escapeChar!==void 0&&(ne=c.escapeChar),(typeof g!="string"||-1<l.BAD_DELIMITERS.indexOf(g))&&(g=","),E===g)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<l.BAD_DELIMITERS.indexOf(E))&&(E=!1),y!==`
`&&y!=="\r"&&y!==`\r
`&&(y=`
`);var $=0,k=!1;this.parse=function(L,z,I){if(typeof L!="string")throw new Error("Input must be a string");var ae=L.length,ie=g.length,de=y.length,le=E.length,H=O(P),U=[],q=[],b=[],re=$=0;if(!L)return K();if(J||J!==!1&&L.indexOf(A)===-1){for(var ce=L.split(y),te=0;te<ce.length;te++){if(b=ce[te],$+=b.length,te!==ce.length-1)$+=y.length;else if(I)return K();if(!E||b.substring(0,le)!==E){if(H){if(U=[],Se(b.split(g)),D(),k)return K()}else Se(b.split(g));if(T&&T<=te)return U=U.slice(0,T),K(!0)}}return K()}for(var Z=L.indexOf(g,$),W=L.indexOf(y,$),oe=new RegExp(M(ne)+M(A),"g"),V=L.indexOf(A,$);;)if(L[$]===A)for(V=$,$++;;){if((V=L.indexOf(A,V+1))===-1)return I||q.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:U.length,index:$}),xe();if(V===ae-1)return xe(L.substring($,V).replace(oe,A));if(A===ne&&L[V+1]===ne)V++;else if(A===ne||V===0||L[V-1]!==ne){Z!==-1&&Z<V+1&&(Z=L.indexOf(g,V+1));var X=Ie((W=W!==-1&&W<V+1?L.indexOf(y,V+1):W)===-1?Z:Math.min(Z,W));if(L.substr(V+1+X,ie)===g){b.push(L.substring($,V).replace(oe,A)),L[$=V+1+X+ie]!==A&&(V=L.indexOf(A,$)),Z=L.indexOf(g,$),W=L.indexOf(y,$);break}if(X=Ie(W),L.substring(V+1+X,V+1+X+de)===y){if(b.push(L.substring($,V).replace(oe,A)),j(V+1+X+de),Z=L.indexOf(g,$),V=L.indexOf(A,$),H&&(D(),k))return K();if(T&&U.length>=T)return K(!0);break}q.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:U.length,index:$}),V++}}else if(E&&b.length===0&&L.substring($,$+le)===E){if(W===-1)return K();$=W+de,W=L.indexOf(y,$),Z=L.indexOf(g,$)}else if(Z!==-1&&(Z<W||W===-1))b.push(L.substring($,Z)),$=Z+ie,Z=L.indexOf(g,$);else{if(W===-1)break;if(b.push(L.substring($,W)),j(W+de),H&&(D(),k))return K();if(T&&U.length>=T)return K(!0)}return xe();function Se(Y){U.push(Y),re=$}function Ie(Y){var se=0;return se=Y!==-1&&(Y=L.substring(V+1,Y))&&Y.trim()===""?Y.length:se}function xe(Y){return I||(Y===void 0&&(Y=L.substring($)),b.push(Y),$=ae,Se(b),H&&D()),K()}function j(Y){$=Y,Se(b),b=[],W=L.indexOf(y,$)}function K(Y){if(c.header&&!z&&U.length&&!Q){var se=U[0],ge=Object.create(null),Oe=new Set(se);let $e=!1;for(let Ee=0;Ee<se.length;Ee++){let he=se[Ee];if(ge[he=O(c.transformHeader)?c.transformHeader(he,Ee):he]){let _e,ee=ge[he];for(;_e=he+"_"+ee,ee++,Oe.has(_e););Oe.add(_e),se[Ee]=_e,ge[he]++,$e=!0,(ue=ue===null?{}:ue)[_e]=he}else ge[he]=1,se[Ee]=he;Oe.add(he)}$e&&console.warn("Duplicate headers found and renamed."),Q=!0}return{data:U,errors:q,meta:{delimiter:g,linebreak:y,aborted:k,truncated:!!Y,cursor:re+(z||0),renamedHeaders:ue}}}function D(){P(K()),U=[],q=[]}},this.abort=function(){k=!0},this.getCharIndex=function(){return $}}function R(c){var g=c.data,y=i[g.workerId],E=!1;if(g.error)y.userError(g.error,g.file);else if(g.results&&g.results.data){var P={abort:function(){E=!0,_(g.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:F,resume:F};if(O(y.userStep)){for(var T=0;T<g.results.data.length&&(y.userStep({data:g.results.data[T],errors:g.results.errors,meta:g.results.meta},P),!E);T++);delete g.results}else O(y.userChunk)&&(y.userChunk(g.results,P,g.file),delete g.results)}g.finished&&!E&&_(g.workerId,g.results)}function _(c,g){var y=i[c];O(y.userComplete)&&y.userComplete(g),y.terminate(),delete i[c]}function F(){throw new Error("Not implemented.")}function w(c){if(typeof c!="object"||c===null)return c;var g,y=Array.isArray(c)?[]:{};for(g in c)y[g]=w(c[g]);return y}function N(c,g){return function(){c.apply(g,arguments)}}function O(c){return typeof c=="function"}return l.parse=function(c,g){var y=(g=g||{}).dynamicTyping||!1;if(O(y)&&(g.dynamicTypingFunction=y,y={}),g.dynamicTyping=y,g.transform=!!O(g.transform)&&g.transform,!g.worker||!l.WORKERS_SUPPORTED)return y=null,l.NODE_STREAM_INPUT,typeof c=="string"?(c=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(c),y=new(g.download?p:u)(g)):c.readable===!0&&O(c.read)&&O(c.on)?y=new S(g):(n.File&&c instanceof File||c instanceof Object)&&(y=new f(g)),y.stream(c);(y=(()=>{var E;return!!l.WORKERS_SUPPORTED&&(E=(()=>{var P=n.URL||n.webkitURL||null,T=t.toString();return l.BLOB_URL||(l.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",T,")();"],{type:"text/javascript"})))})(),(E=new n.Worker(E)).onmessage=R,E.id=d++,i[E.id]=E)})()).userStep=g.step,y.userChunk=g.chunk,y.userComplete=g.complete,y.userError=g.error,g.step=O(g.step),g.chunk=O(g.chunk),g.complete=O(g.complete),g.error=O(g.error),delete g.worker,y.postMessage({input:c,config:g,workerId:y.id})},l.unparse=function(c,g){var y=!1,E=!0,P=",",T=`\r
`,J='"',ue=J+J,Q=!1,A=null,ne=!1,$=((()=>{if(typeof g=="object"){if(typeof g.delimiter!="string"||l.BAD_DELIMITERS.filter(function(z){return g.delimiter.indexOf(z)!==-1}).length||(P=g.delimiter),typeof g.quotes!="boolean"&&typeof g.quotes!="function"&&!Array.isArray(g.quotes)||(y=g.quotes),typeof g.skipEmptyLines!="boolean"&&typeof g.skipEmptyLines!="string"||(Q=g.skipEmptyLines),typeof g.newline=="string"&&(T=g.newline),typeof g.quoteChar=="string"&&(J=g.quoteChar),typeof g.header=="boolean"&&(E=g.header),Array.isArray(g.columns)){if(g.columns.length===0)throw new Error("Option columns is empty");A=g.columns}g.escapeChar!==void 0&&(ue=g.escapeChar+J),g.escapeFormulae instanceof RegExp?ne=g.escapeFormulae:typeof g.escapeFormulae=="boolean"&&g.escapeFormulae&&(ne=/^[=+\-@\t\r].*$/)}})(),new RegExp(M(J),"g"));if(typeof c=="string"&&(c=JSON.parse(c)),Array.isArray(c)){if(!c.length||Array.isArray(c[0]))return k(null,c,Q);if(typeof c[0]=="object")return k(A||Object.keys(c[0]),c,Q)}else if(typeof c=="object")return typeof c.data=="string"&&(c.data=JSON.parse(c.data)),Array.isArray(c.data)&&(c.fields||(c.fields=c.meta&&c.meta.fields||A),c.fields||(c.fields=Array.isArray(c.data[0])?c.fields:typeof c.data[0]=="object"?Object.keys(c.data[0]):[]),Array.isArray(c.data[0])||typeof c.data[0]=="object"||(c.data=[c.data])),k(c.fields||[],c.data||[],Q);throw new Error("Unable to serialize unrecognized input");function k(z,I,ae){var ie="",de=(typeof z=="string"&&(z=JSON.parse(z)),typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(z)&&0<z.length),le=!Array.isArray(I[0]);if(de&&E){for(var H=0;H<z.length;H++)0<H&&(ie+=P),ie+=L(z[H],H);0<I.length&&(ie+=T)}for(var U=0;U<I.length;U++){var q=(de?z:I[U]).length,b=!1,re=de?Object.keys(I[U]).length===0:I[U].length===0;if(ae&&!de&&(b=ae==="greedy"?I[U].join("").trim()==="":I[U].length===1&&I[U][0].length===0),ae==="greedy"&&de){for(var ce=[],te=0;te<q;te++){var Z=le?z[te]:te;ce.push(I[U][Z])}b=ce.join("").trim()===""}if(!b){for(var W=0;W<q;W++){0<W&&!re&&(ie+=P);var oe=de&&le?z[W]:W;ie+=L(I[U][oe],W)}U<I.length-1&&(!ae||0<q&&!re)&&(ie+=T)}}return ie}function L(z,I){var ae,ie;return z==null?"":z.constructor===Date?JSON.stringify(z).slice(1,25):(ie=!1,ne&&typeof z=="string"&&ne.test(z)&&(z="'"+z,ie=!0),ae=z.toString().replace($,ue),(ie=ie||y===!0||typeof y=="function"&&y(z,I)||Array.isArray(y)&&y[I]||((de,le)=>{for(var H=0;H<le.length;H++)if(-1<de.indexOf(le[H]))return!0;return!1})(ae,l.BAD_DELIMITERS)||-1<ae.indexOf(P)||ae.charAt(0)===" "||ae.charAt(ae.length-1)===" ")?J+ae+J:ae)}},l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!s&&!!n.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=C,l.ParserHandle=m,l.NetworkStreamer=p,l.FileStreamer=f,l.StringStreamer=u,l.ReadableStreamStreamer=S,n.jQuery&&((o=n.jQuery).fn.parse=function(c){var g=c.config||{},y=[];return this.each(function(T){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var J=0;J<this.files.length;J++)y.push({file:this.files[J],inputElem:this,instanceConfig:o.extend({},g)})}),E(),this;function E(){if(y.length===0)O(c.complete)&&c.complete();else{var T,J,ue,Q,A=y[0];if(O(c.before)){var ne=c.before(A.file,A.inputElem);if(typeof ne=="object"){if(ne.action==="abort")return T="AbortError",J=A.file,ue=A.inputElem,Q=ne.reason,void(O(c.error)&&c.error({name:T},J,ue,Q));if(ne.action==="skip")return void P();typeof ne.config=="object"&&(A.instanceConfig=o.extend(A.instanceConfig,ne.config))}else if(ne==="skip")return void P()}var $=A.instanceConfig.complete;A.instanceConfig.complete=function(k){O($)&&$(k,A.file,A.inputElem),P()},l.parse(A.file,A.instanceConfig)}}function P(){y.splice(0,1),E()}}),a&&(n.onmessage=function(c){c=c.data,l.WORKER_ID===void 0&&c&&(l.WORKER_ID=c.workerId),typeof c.input=="string"?n.postMessage({workerId:l.WORKER_ID,results:l.parse(c.input,c.config),finished:!0}):(n.File&&c.input instanceof File||c.input instanceof Object)&&(c=l.parse(c.input,c.config))&&n.postMessage({workerId:l.WORKER_ID,results:c,finished:!0})}),(p.prototype=Object.create(h.prototype)).constructor=p,(f.prototype=Object.create(h.prototype)).constructor=f,(u.prototype=Object.create(u.prototype)).constructor=u,(S.prototype=Object.create(h.prototype)).constructor=S,l})})(dt)),dt.exports}var $i=Ti();const Ai=Yn($i),Vi=e=>{me.loading("Validating Wrestlers list",{id:"wrestlers"});const r=e.target.files;if(r&&r.length>0){const t=r[0];if(t.type!=="text/csv"&&!t.name.toLowerCase().endsWith(".csv")){me.error("Error: Please select a valid .csv file.",{id:"wrestlers"}),e.target.value="";return}Ai.parse(t,{header:!0,skipEmptyLines:!0,dynamicTyping:!1,complete:async n=>{if(n.data.length>0){const o=n.data.map(a=>({id:"",name:a.name,school:a.school}));me.success("Wrestlers Validated",{id:"wrestlers"});const s=await hn({data:o});s.success?me.success("Wrestlers Added Successfully"):me.error(s.message)}else me.warning("No Valid Wrestlers Found",{id:"wrestlers"})},error:n=>{me.error(`PapaParse Error: ${n}`,{id:"wrestlers"})}})}else me.warning("No file selected.",{id:"wrestlers"})},ji=()=>v.jsxs(Gt,{children:[v.jsx(bn,{children:v.jsxs(Te,{variant:"secondary",children:[v.jsx(Fo,{})," Upload Wrestlers"]})}),v.jsxs(Bt,{children:[v.jsxs(Ut,{children:[v.jsx(qt,{children:"Upload Wrestlers"})," ",v.jsx(Kt,{children:"Upload CSV Files to mass insert wrestlers"})]}),v.jsx(Je,{type:"file",onChange:Vi})]})]}),Li=()=>{const[e,r]=x.useState(""),[t,n]=x.useState(""),[o,s]=x.useState(!1),a=async i=>{if(i.preventDefault(),!e.trim()||!t.trim()){me.error("Please fill in both name and school");return}me.loading("Adding wrestler",{id:"add-wrestler"});const d=[{id:"",name:e.trim(),school:t.trim()}],l=await hn({data:d});l.success?(me.success("Wrestler added successfully",{id:"add-wrestler"}),r(""),n(""),s(!1)):me.error(l.message,{id:"add-wrestler"})};return v.jsxs(Gt,{open:o,onOpenChange:s,children:[v.jsx(bn,{children:v.jsxs(Te,{children:[v.jsx(Eo,{})," Add Wrestler"]})}),v.jsxs(Bt,{children:[v.jsxs(Ut,{children:[v.jsx(qt,{children:"Add Wrestler"}),v.jsx(Kt,{children:"Add a single wrestler to the database"})]}),v.jsxs("form",{onSubmit:a,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Name"}),v.jsx(Je,{id:"name",type:"text",value:e,onChange:i=>r(i.target.value),placeholder:"Enter wrestler name",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"school",className:"text-sm font-medium",children:"School"}),v.jsx(Je,{id:"school",type:"text",value:t,onChange:i=>n(i.target.value),placeholder:"Enter school name",required:!0})]}),v.jsx(Te,{type:"submit",className:"w-full",children:"Add Wrestler"})]})]})]})};function Ki(){const{wrestlers:e,totalVotes:r}=Qn.useLoaderData(),[t,n]=x.useState({pageIndex:0,pageSize:10}),[o,s]=x.useState(""),[a,i]=x.useState(null),[d,l]=x.useState(null),[h,p]=x.useState({name:"",school:""}),f=R=>{i(R),p({name:R.name,school:R.school})},u=R=>{l(R)},S=async()=>{if(d)try{const R=await Zn({data:d.id});R.success?(me.success(R.message),window.location.reload()):me.error(R.message)}catch{me.error("Failed to delete wrestler")}finally{l(null)}},m=async()=>{if(!a)return;const R={};if(h.name!==a.name&&(R.name=h.name),h.school!==a.school&&(R.school=h.school),Object.keys(R).length===0){me.info("No changes to save"),i(null);return}try{const _=await Jn({data:{id:a.id,newValues:R}});_.success?(me.success(_.message),window.location.reload()):me.error(_.message)}catch{me.error("Failed to update wrestler")}finally{i(null)}},M=[{accessorKey:"name",header:"Name"},{accessorKey:"school",header:"School"},{accessorKey:"voteCount",header:"Votes"},{id:"actions",header:()=>null,cell:({row:R})=>{const _=R.original;return v.jsx("div",{className:"flex justify-end",children:v.jsxs(pi,{children:[v.jsx(hi,{render:v.jsx(Te,{variant:"ghost",size:"icon-sm"}),children:v.jsx(yo,{className:"size-4"})}),v.jsxs(mi,{align:"end",children:[v.jsx(fn,{onClick:()=>f(_),children:"Edit"}),v.jsx(fn,{variant:"destructive",onClick:()=>u(_),children:"Delete"})]})]})})}}],C=$s({data:e,columns:M,state:{pagination:t,globalFilter:o},onPaginationChange:n,onGlobalFilterChange:s,getCoreRowModel:Ms(),getPaginationRowModel:Os(),getFilteredRowModel:bs(),globalFilterFn:(R,_,F)=>{const w=F.toLowerCase(),N=R.original.name.toLowerCase(),O=R.original.school.toLowerCase();return N.includes(w)||O.includes(w)}});return v.jsxs("div",{className:"container mx-auto py-8",children:[v.jsxs("div",{className:"flex flex-row justify-between gap-2 items-start",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Manage Wrestlers"}),v.jsx("p",{className:"text-muted-foreground mt-1",children:"View and manage all wrestlers and their votes"}),v.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Total votes: ",v.jsx("span",{className:"font-semibold",children:r})]})]}),v.jsx(to,{})]}),v.jsxs("div",{className:"flex flex-row justify-between gap-2 py-4",children:[v.jsxs(fo,{className:"max-w-2xl self-center",children:[v.jsx(po,{value:o,onChange:R=>s(R.target.value),className:"pl-8",placeholder:"Search Name or School"}),v.jsx(ho,{children:v.jsx(mo,{})})]}),v.jsxs("div",{className:"flex flex-row gap-2 justify-between",children:[v.jsx(Li,{}),v.jsx(ji,{})]})]}),v.jsx("div",{className:"rounded-lg border",children:v.jsxs(As,{children:[v.jsx(Vs,{children:C.getHeaderGroups().map(R=>v.jsx(kt,{children:R.headers.map(_=>v.jsx(Ls,{children:_.isPlaceholder?null:dn(_.column.columnDef.header,_.getContext())},_.id))},R.id))}),v.jsx(js,{children:C.getRowModel().rows.length===0?v.jsx(kt,{children:v.jsx(gn,{colSpan:M.length,className:"h-24 text-center",children:"No wrestlers found."})}):C.getRowModel().rows.map(R=>v.jsx(kt,{children:R.getVisibleCells().map(_=>v.jsx(gn,{children:dn(_.column.columnDef.cell,_.getContext())},_.id))},R.id))})]})}),C.getPageCount()>1&&v.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[v.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing"," ",C.getState().pagination.pageIndex*C.getState().pagination.pageSize+1," ","to"," ",Math.min((C.getState().pagination.pageIndex+1)*C.getState().pagination.pageSize,C.getFilteredRowModel().rows.length)," ","of ",C.getFilteredRowModel().rows.length," results"]}),v.jsx(Pi,{children:v.jsxs(Fi,{children:[v.jsx(ut,{children:v.jsx(bi,{onClick:()=>C.previousPage(),className:C.getCanPreviousPage()?"cursor-pointer":"pointer-events-none opacity-50"})}),Ni(C.getState().pagination.pageIndex,C.getPageCount()).map((R,_)=>R==="..."?v.jsx(ut,{children:v.jsx(ki,{})},`ellipsis-${_}`):v.jsx(ut,{children:v.jsx(Zt,{onClick:()=>C.setPageIndex(R),isActive:C.getState().pagination.pageIndex===R,className:"cursor-pointer",children:R+1})},R)),v.jsx(ut,{children:v.jsx(Oi,{onClick:()=>C.nextPage(),className:C.getCanNextPage()?"cursor-pointer":"pointer-events-none opacity-50"})})]})})]}),v.jsx(Gt,{open:!!a,onOpenChange:R=>!R&&i(null),children:v.jsxs(Bt,{children:[v.jsxs(Ut,{children:[v.jsx(qt,{children:"Edit Wrestler"}),v.jsx(Kt,{children:"Update the wrestler's name or school"})]}),v.jsxs("div",{className:"grid gap-4 py-4",children:[v.jsxs("div",{className:"grid gap-2",children:[v.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Name"}),v.jsx(Je,{id:"name",value:h.name,onChange:R=>p(_=>({..._,name:R.target.value}))})]}),v.jsxs("div",{className:"grid gap-2",children:[v.jsx("label",{htmlFor:"school",className:"text-sm font-medium",children:"School"}),v.jsx(Je,{id:"school",value:h.school,onChange:R=>p(_=>({..._,school:R.target.value}))})]})]}),v.jsxs(vo,{children:[v.jsx(Te,{variant:"outline",onClick:()=>i(null),children:"Cancel"}),v.jsx(Te,{onClick:m,children:"Save Changes"})]})]})}),v.jsx(Ci,{open:!!d,onOpenChange:R=>!R&&l(null),children:v.jsxs(Si,{children:[v.jsxs(xi,{children:[v.jsx(_i,{children:"Are you sure?"}),v.jsxs(Mi,{children:["This will permanently delete ",d?.name," from"," ",d?.school,". This action cannot be undone."]})]}),v.jsxs(yi,{children:[v.jsx(Ei,{onClick:()=>l(null),children:"Cancel"}),v.jsx(Ii,{onClick:S,children:"Delete"})]})]})})]})}function Ni(e,r){const t=[];if(r<=7)for(let n=0;n<r;n++)t.push(n);else if(e<=3){for(let n=0;n<5;n++)t.push(n);t.push("..."),t.push(r-1)}else if(e>=r-4){t.push(0),t.push("...");for(let n=r-5;n<r;n++)t.push(n)}else{t.push(0),t.push("...");for(let n=e-1;n<=e+1;n++)t.push(n);t.push("..."),t.push(r-1)}return t}export{Ki as component};
